{
  "/contract-addons/{id}": {
    "put": {
      "tags": ["Contract Addons"],
      "summary": "Update a contract addon",
      "description": "Updates the details of an existing contract addon. If `included` is set to `true`, both `price_ht` and `price_ttc` will automatically be set to 0. The `updated_by` field records the ID of the user performing the update.",
      "operationId": "updateContractAddon",
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "required": true,
          "description": "Unique identifier of the contract addon to update",
          "schema": {
            "type": "string",
            "format": "uuid",
            "example": "a1b2c3d4-e5f6-7890-1234-abcdef987654"
          }
        }
      ],
      "security": [
        {
          "bearerAuth": []
        }
      ],
      "requestBody": {
        "required": true,
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/UpdateContractAddonRequest"
            },
            "examples": {
              "updatePrices": {
                "summary": "Modify addon prices",
                "value": {
                  "name": "Livraison express",
                  "price_ht": 20.0,
                  "price_ttc": 24.0,
                  "included": false
                }
              },
              "setAsIncluded": {
                "summary": "Mark addon as included (free)",
                "value": {
                  "name": "Pressing de base",
                  "included": true
                }
              }
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "‚úÖ Contract addon successfully updated",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractAddonResponse"
              },
              "examples": {
                "success": {
                  "summary": "Example: updated addon",
                  "value": {
                    "success": true,
                    "data": {
                      "id": "a1b2c3d4-e5f6-7890-1234-abcdef987654",
                      "name": "Livraison express",
                      "price_ht": 20.0,
                      "price_ttc": 24.0,
                      "included": false,
                      "updated_by": "16937819-c033-438f-bbad-543d83443371",
                      "updated_at": "2025-10-09T22:00:00.000Z"
                    }
                  }
                }
              }
            }
          }
        },
        "400": {
          "description": "‚ö†Ô∏è Missing or invalid data",
          "content": {
            "application/json": {
              "example": {
                "success": false,
                "error": "ID is required"
              }
            }
          }
        },
        "404": {
          "description": "‚ùå Contract addon not found",
          "content": {
            "application/json": {
              "example": {
                "success": false,
                "error": "Contract addon not found"
              }
            }
          }
        },
        "500": {
          "description": "üí• Internal server error ‚Äî Failed to update contract addon",
          "content": {
            "application/json": {
              "example": {
                "success": false,
                "error": "Failed to update contract addon"
              }
            }
          }
        }
      }
    }
  }
}