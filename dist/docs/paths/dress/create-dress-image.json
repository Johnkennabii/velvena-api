

{
  "/dresses/{id}/images": {
    "post": {
      "tags": ["Dresses"],
      "summary": "Add images to an existing dress",
      "description": "Uploads and attaches up to **5 new images** to a specific dress. The images are stored on the configured S3-compatible bucket and merged with any existing images. Each image is automatically assigned a unique UUID-based key. The endpoint requires multipart/form-data and user authentication.",
      "operationId": "addDressImages",
      "security": [{ "bearerAuth": [] }],
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "required": true,
          "description": "UUID of the dress to which images will be added.",
          "schema": { "type": "string", "format": "uuid", "example": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93" }
        }
      ],
      "requestBody": {
        "required": true,
        "content": {
          "multipart/form-data": {
            "schema": {
              "type": "object",
              "properties": {
                "files": {
                  "type": "array",
                  "items": {
                    "type": "string",
                    "format": "binary"
                  },
                  "description": "Array of image files to upload (max 5)."
                }
              },
              "required": ["files"]
            },
            "examples": {
              "exampleUpload": {
                "summary": "Example image upload",
                "value": {
                  "files": ["image1.jpg", "image2.jpg"]
                }
              }
            }
          }
        }
      },
      "responses": {
        "200": {
          "description": "‚úÖ Images successfully uploaded and attached to the dress record.",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "success": { "type": "boolean", "example": true },
                  "data": {
                    "type": "object",
                    "description": "Updated dress record with all image URLs.",
                    "properties": {
                      "id": { "type": "string", "format": "uuid" },
                      "name": { "type": "string", "example": "Robe √âl√©gance" },
                      "reference": { "type": "string", "example": "RE-2025-001" },
                      "images": {
                        "type": "array",
                        "items": { "type": "string", "format": "uri" },
                        "example": [
                          "https://bucket.hel1.your-objectstorage.com/a12b34cd-56ef-78gh-90ij-12345klmnop1",
                          "https://bucket.hel1.your-objectstorage.com/b23c45de-67fg-89hi-01jk-23456lmnoqr2"
                        ]
                      },
                      "updated_by": { "type": "string", "format": "uuid", "example": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566" },
                      "updated_at": { "type": "string", "format": "date-time", "example": "2025-10-06T20:00:00.000Z" }
                    }
                  }
                }
              },
              "examples": {
                "successExample": {
                  "summary": "Example successful response",
                  "value": {
                    "success": true,
                    "data": {
                      "id": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93",
                      "name": "Robe √âl√©gance",
                      "reference": "RE-2025-001",
                      "images": [
                        "https://bucket.hel1.your-objectstorage.com/a12b34cd-56ef-78gh-90ij-12345klmnop1",
                        "https://bucket.hel1.your-objectstorage.com/b23c45de-67fg-89hi-01jk-23456lmnoqr2"
                      ],
                      "updated_by": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566",
                      "updated_at": "2025-10-06T20:00:00.000Z"
                    }
                  }
                }
              }
            }
          }
        },
        "400": {
          "description": "‚ö†Ô∏è Invalid request (missing ID or files).",
          "content": {
            "application/json": {
              "examples": {
                "missingId": {
                  "summary": "No dress ID provided",
                  "value": { "success": false, "error": "Dress ID is required" }
                },
                "noFiles": {
                  "summary": "No files were uploaded",
                  "value": { "success": false, "error": "No files uploaded" }
                }
              }
            }
          }
        },
        "404": {
          "description": "‚ùå Dress not found.",
          "content": {
            "application/json": {
              "example": { "success": false, "error": "Dress not found" }
            }
          }
        },
        "500": {
          "description": "üí• Internal server error ‚Äî Failed to add dress images.",
          "content": {
            "application/json": {
              "example": { "success": false, "error": "Failed to add dress images" }
            }
          }
        }
      }
    }
  }
}