{
  "DressAvailabilityResponse": {
    "type": "object",
    "required": ["success", "count", "data"],
    "properties": {
      "success": {
        "type": "boolean",
        "example": true,
        "description": "Indique si la requête a réussi."
      },
      "count": {
        "type": "number",
        "example": 12,
        "description": "Nombre total de robes retournées dans data."
      },
      "filters": {
        "type": "object",
        "nullable": true,
        "description": "Plage de dates appliquée pour le calcul de disponibilité.",
        "properties": {
          "start": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "example": "2025-10-21T10:00:00.000Z"
          },
          "end": {
            "type": "string",
            "format": "date-time",
            "nullable": true,
            "example": "2025-10-22T10:00:00.000Z"
          }
        }
      },
      "data": {
        "type": "array",
        "description": "Liste des robes avec leur statut de disponibilité.",
        "items": {
          "$ref": "#/components/schemas/DressAvailabilityItem"
        }
      }
    }
  },

  "DressAvailabilityItem": {
    "type": "object",
    "required": [
      "id",
      "name",
      "reference",
      "price_ht",
      "price_ttc",
      "price_per_day_ht",
      "price_per_day_ttc",
      "images",
      "isAvailable"
    ],
    "properties": {
      "id": {
        "type": "string",
        "format": "uuid",
        "example": "5815dc9e-f860-4791-9ea5-deadb782329e",
        "description": "Identifiant unique de la robe."
      },
      "name": {
        "type": "string",
        "example": "Robe Orientale Dorée",
        "description": "Nom marketing de la robe."
      },
      "reference": {
        "type": "string",
        "example": "REF-OR-202",
        "description": "Référence interne boutique."
      },
      "price_ht": {
        "type": "number",
        "format": "float",
        "example": 1018.33,
        "description": "Prix HT de la robe."
      },
      "price_ttc": {
        "type": "number",
        "format": "float",
        "example": 1222,
        "description": "Prix TTC de la robe."
      },
      "price_per_day_ht": {
        "type": "number",
        "format": "float",
        "example": 100,
        "description": "Prix HT de location par jour."
      },
      "price_per_day_ttc": {
        "type": "number",
        "format": "float",
        "example": 120,
        "description": "Prix TTC de location par jour."
      },
      "images": {
        "type": "array",
        "description": "URLs d'images associées à la robe.",
        "items": {
          "type": "string",
          "format": "uri",
          "example": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/3df7a0e6-bbcd-43c8-8a3b-e0b1ab2fe6ac"
        }
      },
      "isAvailable": {
        "type": "boolean",
        "example": false,
        "description": "true = la robe est libre sur la période demandée, false = elle est déjà louée / réservée."
      },
      "current_contract": {
        "type": ["object", "null"],
        "description": "Infos sur la réservation qui bloque la robe dans la période demandée. Null si elle est disponible.",
        "properties": {
          "start_datetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-21T10:00:00.000Z",
            "description": "Début de la période de location."
          },
          "end_datetime": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-22T10:00:00.000Z",
            "description": "Fin de la période de location."
          }
        }
      }
    }
  },

  "ErrorResponse": {
    "type": "object",
    "required": ["success", "error"],
    "properties": {
      "success": {
        "type": "boolean",
        "example": false
      },
      "error": {
        "type": "string",
        "example": "Failed to fetch dress availability"
      }
    }
  }
}