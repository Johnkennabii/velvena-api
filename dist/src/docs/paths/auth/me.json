{
    "/auth/me": {
        "get": {
            "tags": ["Auth"],
            "summary": "Get the current authenticated user",
            "description": "Retrieves detailed information about the currently authenticated user based on the JWT token provided in the `Authorization` header. The response includes user details, profile, and role. Returns a new refreshed JWT token valid for 6 hours.",
            "operationId": "getCurrentUser",
            "security": [
                {
                    "bearerAuth": []
                }
            ],
            "responses": {
                "200": {
                    "description": "‚úÖ Successfully retrieved the authenticated user's information",
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["token", "id", "email", "role", "profile"],
                                "properties": {
                                    "token": {
                                        "type": "string",
                                        "description": "A newly generated JWT valid for 6 hours.",
                                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                                    },
                                    "id": {
                                        "type": "string",
                                        "format": "uuid",
                                        "description": "Unique identifier of the authenticated user.",
                                        "example": "a7c1b2e3-4d5f-6789-abcd-ef0123456789"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "emma.dupont@example.com",
                                        "description": "Email address of the authenticated user."
                                    },
                                    "role": {
                                        "type": ["string", "null"],
                                        "example": "ADMIN",
                                        "description": "Name of the user's assigned role, if any."
                                    },
                                    "profile": {
                                        "type": "object",
                                        "description": "Profile details of the authenticated user.",
                                        "properties": {
                                            "id": {
                                                "type": "string",
                                                "format": "uuid",
                                                "example": "cdef1234-5678-90ab-cdef-1234567890ab"
                                            },
                                            "firstName": {
                                                "type": ["string", "null"],
                                                "example": "Emma"
                                            },
                                            "lastName": {
                                                "type": ["string", "null"],
                                                "example": "Dupont"
                                            },
                                            "role": {
                                                "type": "object",
                                                "description": "Role details associated with the user profile.",
                                                "properties": {
                                                    "id": {
                                                        "type": "string",
                                                        "format": "uuid",
                                                        "example": "r1a2b3c4-5d6e-789f-0123-456789abcdef"
                                                    },
                                                    "name": {
                                                        "type": "string",
                                                        "example": "ADMIN"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            },
                            "examples": {
                                "success": {
                                    "summary": "Example of a successful response",
                                    "value": {
                                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                                        "id": "a7c1b2e3-4d5f-6789-abcd-ef0123456789",
                                        "email": "emma.dupont@example.com",
                                        "role": "ADMIN",
                                        "profile": {
                                            "id": "cdef1234-5678-90ab-cdef-1234567890ab",
                                            "firstName": "Emma",
                                            "lastName": "Dupont",
                                            "role": {
                                                "id": "r1a2b3c4-5d6e-789f-0123-456789abcdef",
                                                "name": "ADMIN"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "401": {
                    "description": "üîí Unauthorized ‚Äî missing or invalid token",
                    "content": {
                        "application/json": {
                            "examples": {
                                "missingToken": {
                                    "summary": "No token provided",
                                    "value": { "error": "Unauthorized" }
                                },
                                "invalidToken": {
                                    "summary": "Invalid JWT",
                                    "value": { "error": "Invalid token" }
                                }
                            }
                        }
                    }
                },
                "404": {
                    "description": "üö´ User not found ‚Äî the ID from the token does not match any user",
                    "content": {
                        "application/json": {
                            "example": { "error": "User not found" }
                        }
                    }
                },
                "400": {
                    "description": "‚ö†Ô∏è Bad request or unexpected error",
                    "content": {
                        "application/json": {
                            "example": { "error": "Failed to fetch current user info" }
                        }
                    }
                }
            }
        }
    }
}
