{
  "openapi": "3.0.3",
  "info": {
    "title": "Allure Cr√©ation API",
    "version": "1.0.0",
    "description": "API Documentation for Allure Cr√©ation ‚Äî modularized version"
  },
  "servers": [
    {
      "url": "https://api.allure-creation.fr",
      "description": "Production Server"
    },
    {
      "url": "http://localhost:4000",
      "description": "Local Development Server"
    }
  ],
  "tags": [
    {
      "name": "Auth",
      "description": "Authentication and user session endpoints"
    },
    {
      "name": "Contracts",
      "description": "Endpoints related to contract management"
    },
    {
      "name": "Contract Types",
      "description": "Endpoints related to contract type management"
    },
    {
      "name": "Contract Packages",
      "description": "Endpoints related to contract package management"
    },
    {
      "name": "Contract Addons",
      "description": "Endpoints related to contract addon management"
    },
    {
      "name": "Dresses",
      "description": "Endpoints related to dress management"
    },
    {
      "name": "Avatars",
      "description": "Endpoints related to avatar management"
    },
    {
      "name": "Dress Storage",
      "description": "Endpoints related to dress image management"
    },
    {
      "name": "Dresses - Colors",
      "description": "Endpoints related to dress color management"
    },
    {
      "name": "Dresses - Conditions",
      "description": "Endpoints related to dress contdition management"
    },
    {
      "name": "Dresses - Sizes",
      "description": "Endpoints related to dress size management"
    },
    {
      "name": "Dresses - Types",
      "description": "Endpoints related to dress type management"
    },
    {
      "name": "Users",
      "description": "Endpoints related to users management"
    },
    {
      "name": "Profiles",
      "description": "Endpoints related to profiles management"
    },
    {
      "name": "Customers",
      "description": "Endpoints related to customers management"
    },
    {
      "name": "Roles",
      "description": "Endpoints related to roles management"
    },
    {
      "name": "Mail",
      "description": "Endpoints related to email management (IMAP/SMTP)"
    }
  ],
  "paths": {
    "/auth/register": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Register a new user (Admin-only)",
        "description": "Creates a new user account and associated profile. This endpoint can only be called by an **authenticated admin** or user with appropriate permissions. The password is securely hashed with bcrypt before storage. If the email already exists, a 400 error is returned.",
        "operationId": "registerUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password",
                  "roleName"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "emma.dupont@example.com",
                    "description": "Email address of the new user. Must be unique."
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "StrongPass!2025",
                    "description": "Plain-text password. It will be hashed before being stored."
                  },
                  "roleName": {
                    "type": "string",
                    "example": "ADMIN",
                    "description": "Name of the role to assign (must exist in `roles` table)."
                  },
                  "firstName": {
                    "type": "string",
                    "example": "Emma",
                    "description": "Optional. First name of the new user."
                  },
                  "lastName": {
                    "type": "string",
                    "example": "Dupont",
                    "description": "Optional. Last name of the new user."
                  }
                }
              },
              "examples": {
                "basicExample": {
                  "summary": "Register a new user",
                  "value": {
                    "email": "emma.dupont@example.com",
                    "password": "StrongPass!2025",
                    "roleName": "MANAGER",
                    "firstName": "Emma",
                    "lastName": "Dupont"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ User successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "id",
                    "email",
                    "role",
                    "profile"
                  ],
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
                    },
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "emma.dupont@example.com"
                    },
                    "role": {
                      "type": "string",
                      "example": "MANAGER"
                    },
                    "profile": {
                      "type": "object",
                      "description": "Associated profile record created automatically",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "987e6543-e21b-12d3-a456-426614174999"
                        },
                        "role_id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "123e4567-e89b-12d3-a456-426614174000"
                        },
                        "firstName": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "Emma"
                        },
                        "lastName": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "Dupont"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-10-09T18:30:00.000Z"
                        },
                        "created_by": {
                          "type": "string",
                          "format": "uuid",
                          "example": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "successExample": {
                    "summary": "User successfully registered",
                    "value": {
                      "id": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                      "email": "emma.dupont@example.com",
                      "role": "MANAGER",
                      "profile": {
                        "id": "987e6543-e21b-12d3-a456-426614174999",
                        "role_id": "123e4567-e89b-12d3-a456-426614174000",
                        "firstName": "Emma",
                        "lastName": "Dupont",
                        "created_at": "2025-10-09T18:30:00.000Z",
                        "created_by": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid input or duplicate user",
            "content": {
              "application/json": {
                "examples": {
                  "missingFields": {
                    "summary": "Missing required fields",
                    "value": {
                      "error": "Missing email or password"
                    }
                  },
                  "duplicateUser": {
                    "summary": "Email already exists",
                    "value": {
                      "error": "User with this email already exists"
                    }
                  },
                  "roleNotFound": {
                    "summary": "Invalid role name",
                    "value": {
                      "error": "Role not found"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî Only authenticated users can create accounts",
            "content": {
              "application/json": {
                "example": {
                  "error": "Unauthorized: only authenticated users can create accounts"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to register user",
            "content": {
              "application/json": {
                "example": {
                  "error": "Internal Server Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Authenticate user and issue JWT",
        "description": "Authenticates a user using email and password. Returns a JWT valid for 6 hours, along with user details.",
        "operationId": "loginUser",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "email",
                  "password"
                ],
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email",
                    "example": "emma.dupont@example.com",
                    "description": "User email address"
                  },
                  "password": {
                    "type": "string",
                    "format": "password",
                    "example": "StrongPass!2025",
                    "description": "Plaintext password"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "User successfully authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "id": {
                      "type": "string",
                      "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
                    },
                    "email": {
                      "type": "string",
                      "example": "emma.dupont@example.com"
                    },
                    "role": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "example": "ADMIN"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Invalid credentials",
            "content": {
              "application/json": {
                "example": {
                  "error": "Invalid password"
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "error": "Internal Server Error"
                }
              }
            }
          }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": [
          "Auth"
        ],
        "summary": "Get the current authenticated user",
        "description": "Retrieves detailed information about the currently authenticated user based on the JWT token provided in the `Authorization` header. The response includes user details, profile, and role. Returns a new refreshed JWT token valid for 6 hours.",
        "operationId": "getCurrentUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved the authenticated user's information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "token",
                    "id",
                    "email",
                    "role",
                    "profile"
                  ],
                  "properties": {
                    "token": {
                      "type": "string",
                      "description": "A newly generated JWT valid for 6 hours.",
                      "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                    },
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "description": "Unique identifier of the authenticated user.",
                      "example": "a7c1b2e3-4d5f-6789-abcd-ef0123456789"
                    },
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "emma.dupont@example.com",
                      "description": "Email address of the authenticated user."
                    },
                    "role": {
                      "type": [
                        "string",
                        "null"
                      ],
                      "example": "ADMIN",
                      "description": "Name of the user's assigned role, if any."
                    },
                    "profile": {
                      "type": "object",
                      "description": "Profile details of the authenticated user.",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "cdef1234-5678-90ab-cdef-1234567890ab"
                        },
                        "firstName": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "Emma"
                        },
                        "lastName": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "Dupont"
                        },
                        "role": {
                          "type": "object",
                          "description": "Role details associated with the user profile.",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "r1a2b3c4-5d6e-789f-0123-456789abcdef"
                            },
                            "name": {
                              "type": "string",
                              "example": "ADMIN"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Example of a successful response",
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "id": "a7c1b2e3-4d5f-6789-abcd-ef0123456789",
                      "email": "emma.dupont@example.com",
                      "role": "ADMIN",
                      "profile": {
                        "id": "cdef1234-5678-90ab-cdef-1234567890ab",
                        "firstName": "Emma",
                        "lastName": "Dupont",
                        "role": {
                          "id": "r1a2b3c4-5d6e-789f-0123-456789abcdef",
                          "name": "ADMIN"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Bad request or unexpected error",
            "content": {
              "application/json": {
                "example": {
                  "error": "Failed to fetch current user info"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid token",
            "content": {
              "application/json": {
                "examples": {
                  "missingToken": {
                    "summary": "No token provided",
                    "value": {
                      "error": "Unauthorized"
                    }
                  },
                  "invalidToken": {
                    "summary": "Invalid JWT",
                    "value": {
                      "error": "Invalid token"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "üö´ User not found ‚Äî the ID from the token does not match any user",
            "content": {
              "application/json": {
                "example": {
                  "error": "User not found"
                }
              }
            }
          }
        }
      }
    },
    "/auth/refresh": {
      "post": {
        "tags": [
          "Auth"
        ],
        "summary": "Refresh the authentication token (JWT)",
        "description": "Generates a new valid JWT for an already authenticated user. This endpoint requires a valid existing token in the `Authorization` header. The new token is valid for 6 hours and includes the user‚Äôs ID, email, and role information.",
        "operationId": "refreshToken",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully refreshed the token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AuthRefreshResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example of a successful token refresh",
                    "value": {
                      "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                      "id": "a7c1b2e3-4d5f-6789-abcd-ef0123456789",
                      "email": "emma.dupont@example.com",
                      "role": "ADMIN",
                      "profile": {
                        "id": "cdef1234-5678-90ab-cdef-1234567890ab",
                        "firstName": "Emma",
                        "lastName": "Dupont",
                        "role": {
                          "id": "r1a2b3c4-5d6e-789f-0123-456789abcdef",
                          "name": "ADMIN"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Bad request ‚Äî error during token refresh",
            "content": {
              "application/json": {
                "example": {
                  "error": "Failed to refresh token"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid token",
            "content": {
              "application/json": {
                "examples": {
                  "missingToken": {
                    "summary": "No token provided",
                    "value": {
                      "error": "Unauthorized"
                    }
                  },
                  "invalidToken": {
                    "summary": "Invalid JWT",
                    "value": {
                      "error": "Invalid token"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "üö´ User not found ‚Äî token refers to a non-existing user",
            "content": {
              "application/json": {
                "example": {
                  "error": "User not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî unexpected failure",
            "content": {
              "application/json": {
                "example": {
                  "error": "Internal Server Error"
                }
              }
            }
          }
        }
      }
    },
    "/contracts": {
      "get": {
        "tags": [
          "Contracts"
        ],
        "summary": "Get all contracts",
        "description": "Retrieves all active (non-deleted) contracts from the database. Each contract record includes related entities such as customer, contract type, package, addons, dresses, and electronic signature link. This endpoint is typically used to populate dashboards or management tables with all contracts.",
        "operationId": "getAllContracts",
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "example": "SIGNED"
            },
            "description": "Optional filter by contract status (e.g., SIGNED, PENDING_SIGNATURE, CANCELLED)."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 50
            },
            "description": "Maximum number of contracts to return."
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 0
            },
            "description": "Number of records to skip before starting to collect the result set."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all active contracts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "description": "List of contracts with all associated details.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "contract_number": {
                            "type": "string"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "DRAFT",
                              "PENDING_SIGNATURE",
                              "SIGNED",
                              "CANCELLED",
                              "EXPIRED"
                            ],
                            "example": "SIGNED"
                          },
                          "start_datetime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "end_datetime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "deposit_payment_method": {
                            "type": "string",
                            "enum": [
                              "cash",
                              "card",
                              "transfer"
                            ],
                            "example": "card"
                          },
                          "account_ht": {
                            "type": "number",
                            "example": 400
                          },
                          "account_ttc": {
                            "type": "number",
                            "example": 480
                          },
                          "caution_ht": {
                            "type": "number",
                            "example": 100
                          },
                          "caution_ttc": {
                            "type": "number",
                            "example": 120
                          },
                          "total_price_ht": {
                            "type": "number",
                            "example": 500
                          },
                          "total_price_ttc": {
                            "type": "number",
                            "example": 600
                          },
                          "customer": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "firstname": {
                                "type": "string",
                                "example": "Emma"
                              },
                              "lastname": {
                                "type": "string",
                                "example": "Dupont"
                              },
                              "email": {
                                "type": "string",
                                "format": "email",
                                "example": "emma.dupont@email.fr"
                              },
                              "phone": {
                                "type": "string",
                                "example": "+33612345678"
                              }
                            }
                          },
                          "contract_type": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "name": {
                                "type": "string",
                                "example": "Location par jour"
                              }
                            }
                          },
                          "package": {
                            "type": [
                              "object",
                              "null"
                            ],
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "name": {
                                "type": "string",
                                "example": "Forfait √âl√©gance"
                              },
                              "price_ht": {
                                "type": "number",
                                "example": 500
                              },
                              "price_ttc": {
                                "type": "number",
                                "example": 600
                              }
                            }
                          },
                          "addon_links": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "addon": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "format": "uuid"
                                    },
                                    "name": {
                                      "type": "string",
                                      "example": "Retouche coiffure"
                                    },
                                    "price_ttc": {
                                      "type": "number",
                                      "example": 80
                                    },
                                    "included": {
                                      "type": "boolean",
                                      "example": false
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "dresses": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "dress": {
                                  "type": "object",
                                  "properties": {
                                    "id": {
                                      "type": "string",
                                      "format": "uuid"
                                    },
                                    "name": {
                                      "type": "string",
                                      "example": "Robe de mari√©e √âl√©gance"
                                    },
                                    "price_per_day_ttc": {
                                      "type": "number",
                                      "example": 120
                                    }
                                  }
                                }
                              }
                            }
                          },
                          "sign_link": {
                            "type": [
                              "object",
                              "null"
                            ],
                            "description": "Electronic signature link associated with this contract.",
                            "properties": {
                              "token": {
                                "type": "string",
                                "example": "9c9a6b14-1e8e-48cd-bf8b-cb8dcf9df8d3"
                              },
                              "expires_at": {
                                "type": "string",
                                "format": "date-time"
                              }
                            }
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "default": {
                    "summary": "Example: Successful response",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "f123e456-789b-12d3-a456-426614174000",
                          "contract_number": "CTR-2025-004",
                          "status": "SIGNED",
                          "start_datetime": "2025-06-01T10:00:00.000Z",
                          "end_datetime": "2025-06-03T10:00:00.000Z",
                          "deposit_payment_method": "card",
                          "account_ht": 400,
                          "account_ttc": 480,
                          "caution_ht": 100,
                          "caution_ttc": 120,
                          "total_price_ht": 500,
                          "total_price_ttc": 600,
                          "customer": {
                            "firstname": "Emma",
                            "lastname": "Dupont"
                          },
                          "contract_type": {
                            "name": "Location par jour"
                          },
                          "package": null,
                          "addon_links": [],
                          "dresses": [],
                          "sign_link": {
                            "token": "9c9a6b14-1e8e-48cd-bf8b-cb8dcf9df8d3"
                          },
                          "created_at": "2025-05-30T10:00:00.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch contracts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch contracts"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Contracts"
        ],
        "summary": "Create a new contract",
        "description": "Creates a full contract record, links it to the selected customer and generates a 7-day signature link. Deux cas d‚Äôusage sont support√©s : **contrat \"location par jour\"** (sans package, g√©n√©ralement pour une seule robe) et **contrat forfait** (avec `package_id`, pr√©configur√© avec robes/addons). Les montants HT/TTC doivent √™tre calcul√©s par le client.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "contract_number",
                  "customer_id",
                  "contract_type_id",
                  "start_datetime",
                  "end_datetime",
                  "total_price_ht",
                  "total_price_ttc",
                  "status"
                ],
                "properties": {
                  "contract_number": {
                    "type": "string",
                    "description": "Business identifier displayed to the user (ex: CTR-2025-004). Must be unique.",
                    "example": "CTR-2025-004"
                  },
                  "customer_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Customer owning the contract.",
                    "example": "d43c9530-1164-4fa4-96fb-6d64cc1df4b5"
                  },
                  "contract_type_id": {
                    "type": "string",
                    "format": "uuid",
                    "description": "Type de contrat (`Location par jour`, `Forfait`, etc.). Permet au front de distinguer la logique √† appliquer.",
                    "example": "a0c66f0f-7a6c-4a05-96ab-2b2d1d9afc54"
                  },
                  "package_id": {
                    "type": [
                      "string",
                      "null"
                    ],
                    "format": "uuid",
                    "description": "Identifiant du package √† appliquer. Laisser `null` ou omettre pour une location par jour.",
                    "example": "5b73cfa8-b7a1-47f2-b5ed-3f8d2b86a9b7"
                  },
                  "start_datetime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Contract start timestamp (ISO 8601).",
                    "example": "2025-06-01T10:00:00.000Z"
                  },
                  "end_datetime": {
                    "type": "string",
                    "format": "date-time",
                    "description": "Contract end timestamp (ISO 8601).",
                    "example": "2025-06-03T10:00:00.000Z"
                  },
                  "deposit_payment_method": {
                    "type": "string",
                    "description": "Payment method used for the deposit (omit if not collected yet).",
                    "enum": [
                      "cash",
                      "card",
                      "transfer"
                    ],
                    "example": "card"
                  },
                  "status": {
                    "type": "string",
                    "description": "Current status of the contract.",
                    "enum": [
                      "DRAFT",
                      "PENDING_SIGNATURE",
                      "SIGNED",
                      "CANCELLED",
                      "EXPIRED"
                    ],
                    "example": "PENDING_SIGNATURE"
                  },
                  "account_ht": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Deposit amount excluding taxes.",
                    "example": 400
                  },
                  "account_ttc": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Deposit amount including taxes.",
                    "example": 480
                  },
                  "account_paid_ht": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Deposit already paid (HT).",
                    "example": 200
                  },
                  "account_paid_ttc": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Deposit already paid (TTC).",
                    "example": 240
                  },
                  "caution_ht": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Security deposit excluding taxes.",
                    "example": 100
                  },
                  "caution_ttc": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Security deposit including taxes.",
                    "example": 120
                  },
                  "caution_paid_ht": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Security deposit already paid (HT).",
                    "example": 0
                  },
                  "caution_paid_ttc": {
                    "type": [
                      "number",
                      "null"
                    ],
                    "description": "Security deposit already paid (TTC).",
                    "example": 0
                  },
                  "total_price_ht": {
                    "type": "number",
                    "description": "Total contract amount excluding taxes.",
                    "example": 500
                  },
                  "total_price_ttc": {
                    "type": "number",
                    "description": "Total contract amount including taxes.",
                    "example": 600
                  },
                  "addons": {
                    "type": "array",
                    "description": "Liste d‚Äôaddons √† rattacher au contrat (possible pour un forfait ou une location par jour).",
                    "items": {
                      "type": "object",
                      "required": [
                        "addon_id"
                      ],
                      "properties": {
                        "addon_id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "Identifier of the addon to link.",
                          "example": "d031ce8d-9e9f-4d89-a3d8-2ec4b0ca16fc"
                        }
                      }
                    }
                  },
                  "dresses": {
                    "type": "array",
                    "description": "Liste des robes li√©es au contrat. Pour un contrat \"location par jour\", envoyer la ou les robes s√©lectionn√©es directement ici.",
                    "items": {
                      "type": "object",
                      "required": [
                        "dress_id"
                      ],
                      "properties": {
                        "dress_id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "Identifier of the dress to reserve.",
                          "example": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f"
                        }
                      }
                    }
                  }
                }
              },
              "examples": {
                "completeContract": {
                  "summary": "Contrat forfait avec package, addons et robes",
                  "value": {
                    "contract_number": "CTR-2025-004",
                    "customer_id": "d43c9530-1164-4fa4-96fb-6d64cc1df4b5",
                    "contract_type_id": "a0c66f0f-7a6c-4a05-96ab-2b2d1d9afc54",
                    "package_id": "5b73cfa8-b7a1-47f2-b5ed-3f8d2b86a9b7",
                    "start_datetime": "2025-06-01T10:00:00.000Z",
                    "end_datetime": "2025-06-03T10:00:00.000Z",
                    "deposit_payment_method": "card",
                    "status": "PENDING_SIGNATURE",
                    "account_ht": 400,
                    "account_ttc": 480,
                    "account_paid_ht": 200,
                    "account_paid_ttc": 240,
                    "caution_ht": 100,
                    "caution_ttc": 120,
                    "caution_paid_ht": 0,
                    "caution_paid_ttc": 0,
                    "total_price_ht": 500,
                    "total_price_ttc": 600,
                    "addons": [
                      {
                        "addon_id": "d031ce8d-9e9f-4d89-a3d8-2ec4b0ca16fc"
                      }
                    ],
                    "dresses": [
                      {
                        "dress_id": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f"
                      },
                      {
                        "dress_id": "0b00222f-851e-4a7a-9e52-439b820e62ae"
                      }
                    ]
                  }
                },
                "dailyRental": {
                  "summary": "Contrat \"location par jour\" sans package",
                  "value": {
                    "contract_number": "CTR-2025-005",
                    "customer_id": "b18c4c10-41b8-4f01-9c74-376fa4b3c2b1",
                    "contract_type_id": "6c7b9b28-8de2-41f6-9a0f-8f8d063b6c3e",
                    "start_datetime": "2025-07-15T09:00:00.000Z",
                    "end_datetime": "2025-07-16T18:00:00.000Z",
                    "deposit_payment_method": "cash",
                    "status": "DRAFT",
                    "account_ht": 150,
                    "account_ttc": 180,
                    "account_paid_ht": 150,
                    "account_paid_ttc": 180,
                    "caution_ht": 80,
                    "caution_ttc": 96,
                    "caution_paid_ht": 0,
                    "caution_paid_ttc": 0,
                    "total_price_ht": 280,
                    "total_price_ttc": 336,
                    "package_id": null,
                    "addons": [
                      {
                        "addon_id": "f94b7a5d-1e2f-4b4a-8a32-90c8a7cb7f20"
                      }
                    ],
                    "dresses": [
                      {
                        "dress_id": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f"
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Contract created successfully with all related entities.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "Newly created contract including related links.",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "c1f8b8ce-7420-4a5e-858b-9de799d4af0c"
                        },
                        "contract_number": {
                          "type": "string",
                          "example": "CTR-2025-004"
                        },
                        "status": {
                          "type": "string",
                          "example": "PENDING_SIGNATURE"
                        },
                        "start_datetime": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "end_datetime": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "total_price_ht": {
                          "type": "number",
                          "example": 500
                        },
                        "total_price_ttc": {
                          "type": "number",
                          "example": 600
                        },
                        "deposit_payment_method": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "card"
                        },
                        "account_ht": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 400
                        },
                        "account_ttc": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 480
                        },
                        "account_paid_ht": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 200
                        },
                        "account_paid_ttc": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 240
                        },
                        "caution_ht": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 100
                        },
                        "caution_ttc": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 120
                        },
                        "caution_paid_ht": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 0
                        },
                        "caution_paid_ttc": {
                          "type": [
                            "number",
                            "null"
                          ],
                          "example": 0
                        },
                        "customer_id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "contract_type_id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "package_id": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "uuid"
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "created_by": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "uuid"
                        },
                        "sign_link": {
                          "type": "object",
                          "description": "Signature link generated automatically (7-day expiry).",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "token": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "customer_id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "expires_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "addon_links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "addon_id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "addon": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string",
                                    "example": "Retouche coiffure"
                                  },
                                  "price_ttc": {
                                    "type": "number",
                                    "example": 80
                                  }
                                }
                              }
                            }
                          }
                        },
                        "dresses": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "dress_id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "dress": {
                                "type": "object",
                                "properties": {
                                  "name": {
                                    "type": "string",
                                    "example": "Robe de mari√©e √âl√©gance"
                                  },
                                  "price_per_day_ttc": {
                                    "type": "number",
                                    "example": 120
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful response with linked data",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "c1f8b8ce-7420-4a5e-858b-9de799d4af0c",
                        "contract_number": "CTR-2025-004",
                        "status": "PENDING_SIGNATURE",
                        "start_datetime": "2025-06-01T10:00:00.000Z",
                        "end_datetime": "2025-06-03T10:00:00.000Z",
                        "total_price_ht": 500,
                        "total_price_ttc": 600,
                        "deposit_payment_method": "card",
                        "account_ht": 400,
                        "account_ttc": 480,
                        "account_paid_ht": 200,
                        "account_paid_ttc": 240,
                        "caution_ht": 100,
                        "caution_ttc": 120,
                        "caution_paid_ht": 0,
                        "caution_paid_ttc": 0,
                        "customer_id": "d43c9530-1164-4fa4-96fb-6d64cc1df4b5",
                        "contract_type_id": "a0c66f0f-7a6c-4a05-96ab-2b2d1d9afc54",
                        "package_id": "5b73cfa8-b7a1-47f2-b5ed-3f8d2b86a9b7",
                        "created_at": "2025-05-30T10:00:00.000Z",
                        "created_by": "16937819-c033-438f-bbad-543d83443371",
                        "sign_link": {
                          "id": "6b147c3e-3b1f-41ad-8f9e-3a9d5d6c1f23",
                          "customer_id": "d43c9530-1164-4fa4-96fb-6d64cc1df4b5",
                          "token": "9c9a6b14-1e8e-48cd-bf8b-cb8dcf9df8d3",
                          "expires_at": "2025-06-06T10:00:00.000Z"
                        },
                        "addon_links": [
                          {
                            "addon_id": "d031ce8d-9e9f-4d89-a3d8-2ec4b0ca16fc",
                            "addon": {
                              "name": "Retouche coiffure",
                              "price_ttc": 80
                            }
                          }
                        ],
                        "dresses": [
                          {
                            "dress_id": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f",
                            "dress": {
                              "name": "Robe de mari√©e √âl√©gance",
                              "price_per_day_ttc": 120
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid or incomplete payload.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Missing contract_number"
                }
              }
            }
          },
          "401": {
            "description": "üîí Missing or invalid JWT.",
            "content": {
              "application/json": {
                "example": {
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to create contract"
                }
              }
            }
          }
        }
      }
    },
    "/contracts/{id}": {
      "get": {
        "tags": [
          "Contracts"
        ],
        "summary": "Get contract by ID",
        "description": "Retrieves one contract by its ID, including all related entities such as customer, contract type, package, addons, dresses, and electronic signature link.",
        "operationId": "getContractById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "UUID of the contract to retrieve."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved the contract",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "contract_number": {
                          "type": "string"
                        },
                        "status": {
                          "type": "string",
                          "enum": [
                            "DRAFT",
                            "PENDING_SIGNATURE",
                            "SIGNED",
                            "CANCELLED",
                            "EXPIRED"
                          ],
                          "example": "SIGNED"
                        },
                        "start_datetime": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "end_datetime": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "deposit_payment_method": {
                          "type": "string",
                          "enum": [
                            "cash",
                            "card",
                            "transfer"
                          ],
                          "example": "card"
                        },
                        "account_ht": {
                          "type": "number",
                          "example": 400
                        },
                        "account_ttc": {
                          "type": "number",
                          "example": 480
                        },
                        "caution_ht": {
                          "type": "number",
                          "example": 100
                        },
                        "caution_ttc": {
                          "type": "number",
                          "example": 120
                        },
                        "total_price_ht": {
                          "type": "number",
                          "example": 500
                        },
                        "total_price_ttc": {
                          "type": "number",
                          "example": 600
                        },
                        "customer": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "firstname": {
                              "type": "string",
                              "example": "Emma"
                            },
                            "lastname": {
                              "type": "string",
                              "example": "Dupont"
                            },
                            "email": {
                              "type": "string",
                              "format": "email",
                              "example": "emma.dupont@email.fr"
                            },
                            "phone": {
                              "type": "string",
                              "example": "+33612345678"
                            }
                          }
                        },
                        "contract_type": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "name": {
                              "type": "string",
                              "example": "Location par jour"
                            }
                          }
                        },
                        "package": {
                          "type": [
                            "object",
                            "null"
                          ],
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "name": {
                              "type": "string",
                              "example": "Forfait √âl√©gance"
                            },
                            "price_ht": {
                              "type": "number",
                              "example": 500
                            },
                            "price_ttc": {
                              "type": "number",
                              "example": 600
                            }
                          }
                        },
                        "addon_links": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "addon": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "uuid"
                                  },
                                  "name": {
                                    "type": "string",
                                    "example": "Retouche coiffure"
                                  },
                                  "price_ttc": {
                                    "type": "number",
                                    "example": 80
                                  },
                                  "included": {
                                    "type": "boolean",
                                    "example": false
                                  }
                                }
                              }
                            }
                          }
                        },
                        "dresses": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "dress": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "uuid"
                                  },
                                  "name": {
                                    "type": "string",
                                    "example": "Robe de mari√©e √âl√©gance"
                                  },
                                  "price_per_day_ttc": {
                                    "type": "number",
                                    "example": 120
                                  }
                                }
                              }
                            }
                          }
                        },
                        "sign_link": {
                          "type": [
                            "object",
                            "null"
                          ],
                          "description": "Electronic signature link associated with this contract.",
                          "properties": {
                            "token": {
                              "type": "string",
                              "example": "9c9a6b14-1e8e-48cd-bf8b-cb8dcf9df8d3"
                            },
                            "expires_at": {
                              "type": "string",
                              "format": "date-time"
                            }
                          }
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updated_at": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "date-time"
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Contract not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch contract",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch contract"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Contracts"
        ],
        "summary": "Update an existing contract",
        "description": "Updates an existing contract by its unique identifier. Requires authentication. All updatable fields of the contract can be included in the request body. Automatically sets `updated_at` and `updated_by` based on the authenticated user.",
        "operationId": "updateContract",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "8f36f92b-3d41-4a55-9b5a-17a53f729c9f"
            },
            "description": "The unique identifier of the contract to update."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractRequest"
              },
              "examples": {
                "updateContract": {
                  "summary": "Update contract details",
                  "value": {
                    "status": "SIGNED",
                    "startDatetime": "2025-10-12T10:00:00.000Z",
                    "endDatetime": "2025-10-14T18:00:00.000Z",
                    "depositPaymentMethod": "CASH",
                    "total_price_ht": "500.00",
                    "total_price_ttc": "600.00"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Contract successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateContractResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Contract updated successfully",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "8f36f92b-3d41-4a55-9b5a-17a53f729c9f",
                        "contractType": "RENTAL",
                        "status": "SIGNED",
                        "startDatetime": "2025-10-12T10:00:00.000Z",
                        "endDatetime": "2025-10-14T18:00:00.000Z",
                        "depositPaymentMethod": "CASH",
                        "total_price_ht": "500.00",
                        "total_price_ttc": "600.00",
                        "updated_by": "f03b6a82-2034-44c8-8614-7b9f3e2e5a4a",
                        "updated_at": "2025-10-09T14:23:05.123Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid request format",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Invalid input data"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error while updating contract",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to update contract"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Contracts"
        ],
        "summary": "Soft delete a contract (logical deletion)",
        "description": "Marks a contract as deleted without removing it from the database. This operation sets the `deleted_at` and `deleted_by` fields, allowing recovery or auditing later.",
        "operationId": "softDeleteContract",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract to be soft deleted.",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contract successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Contract soft deleted"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Contract not found or already deleted"
          },
          "500": {
            "description": "Internal server error during soft delete"
          }
        }
      }
    },
    "/contracts/{id}/restore": {
      "patch": {
        "tags": [
          "Contracts"
        ],
        "summary": "Restore a soft deleted contract",
        "description": "Removes the logical deletion markers from a contract by setting `deleted_at` and `deleted_by` back to `null`. This endpoint is typically used after a contract has been soft deleted and needs to be reactivated.",
        "operationId": "restoreContract",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract to restore.",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contract successfully restored",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Contract restored"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Contract not found or already active"
          },
          "500": {
            "description": "Internal server error during contract restoration"
          }
        }
      }
    },
    "/contracts/{id}/generate-signature": {
      "post": {
        "tags": [
          "Contracts"
        ],
        "summary": "Generate and send an electronic signature link by email",
        "description": "This endpoint generates a new unique, expirable signature link for a specific contract and automatically emails it to the associated customer using the SMTP configuration defined in environment variables (`SMTP_HOST`, `SMTP_USER`, etc.). The link is valid for **7 days** from generation and can be used by the customer to sign their contract electronically.",
        "operationId": "generateContractSignatureLink",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "a7b2c3d4-5678-90ab-cdef-1234567890ab"
            },
            "description": "The unique identifier (`id`) of the contract for which to generate a signature link."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Signature link successfully generated and email sent to the customer.",
            "content": {
              "application/json": {
                "examples": {
                  "success": {
                    "summary": "Successful generation and email delivery",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "1a3f5d8e-4b12-4e3a-9f92-18b44b69a4a7",
                        "contract_id": "a7b2c3d4-5678-90ab-cdef-1234567890ab",
                        "customer_id": "b8f5d33c-14a4-42e5-bd6a-51de7f2e123f",
                        "token": "bba5d9f1-46e4-41b4-8157-8db68bff1f03",
                        "expires_at": "2025-10-12T14:35:00.000Z"
                      },
                      "link": "https://app.allure-creation.fr/sign/bba5d9f1-46e4-41b4-8157-8db68bff1f03",
                      "emailSentTo": "client@example.com"
                    }
                  }
                },
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data",
                    "link",
                    "emailSentTo"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "Information about the newly created signature link",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "Unique identifier of the signature record"
                        },
                        "contract_id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "The ID of the related contract"
                        },
                        "customer_id": {
                          "type": "string",
                          "format": "uuid",
                          "description": "The ID of the associated customer"
                        },
                        "token": {
                          "type": "string",
                          "description": "Unique secure token used to access the signing link"
                        },
                        "expires_at": {
                          "type": "string",
                          "format": "date-time",
                          "description": "Date and time when the signing link will expire (7 days after creation)."
                        }
                      }
                    },
                    "link": {
                      "type": "string",
                      "format": "uri",
                      "example": "https://app.allure-creation.fr/sign/6a3c12f4-2b8e-49a5-a3f4-901b2c1eab67",
                      "description": "The full URL of the signing page the customer can access to sign the contract."
                    },
                    "emailSentTo": {
                      "type": "string",
                      "format": "email",
                      "example": "client@example.com",
                      "description": "Email address where the signing link was sent."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid request or missing customer data.",
            "content": {
              "application/json": {
                "examples": {
                  "missingId": {
                    "summary": "Contract ID not provided",
                    "value": {
                      "success": false,
                      "error": "Contract ID is required"
                    }
                  },
                  "missingCustomer": {
                    "summary": "Contract exists but no associated email",
                    "value": {
                      "success": false,
                      "error": "Missing customer information"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå The specified contract was not found in the database.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî could not generate link or send email.",
            "content": {
              "application/json": {
                "examples": {
                  "internalError": {
                    "summary": "Unexpected server error",
                    "value": {
                      "success": false,
                      "error": "Failed to generate sign link"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/sign-links/{token}": {
      "get": {
        "summary": "R√©cup√©rer les informations d‚Äôun lien de signature √©lectronique",
        "description": "Permet de v√©rifier la validit√© d‚Äôun lien de signature √©lectronique (token) et de r√©cup√©rer les informations du contrat associ√©, incluant le client, le type de contrat, le package et les robes li√©es. Retourne une erreur si le lien est expir√© ou invalide.",
        "operationId": "getContractSignLink",
        "tags": [
          "Contracts"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "description": "Token unique du lien de signature √©lectronique",
            "schema": {
              "type": "string",
              "example": "ec761633-8a87-4d58-8373-afacc03a602a"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lien de signature valide et contrat trouv√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "698cf95d-ca73-4520-aee6-02c07e7ae51f"
                        },
                        "contract_id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "79b4ebae-f107-4ca4-953e-b53b2e66e57a"
                        },
                        "customer_id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443"
                        },
                        "token": {
                          "type": "string",
                          "example": "ec761633-8a87-4d58-8373-afacc03a602a"
                        },
                        "expires_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-13T09:40:58.208Z"
                        },
                        "contract": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "79b4ebae-f107-4ca4-953e-b53b2e66e57a"
                            },
                            "contract_number": {
                              "type": "string",
                              "example": "CT-2025-0012"
                            },
                            "status": {
                              "type": "string",
                              "example": "DRAFT"
                            },
                            "start_datetime": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-11-05T11:00:00.000Z"
                            },
                            "end_datetime": {
                              "type": "string",
                              "format": "date-time",
                              "example": "2025-11-06T11:00:00.000Z"
                            },
                            "total_price_ht": {
                              "type": "number",
                              "example": 2083.33
                            },
                            "total_price_ttc": {
                              "type": "number",
                              "example": 2500
                            },
                            "deposit_payment_method": {
                              "type": "string",
                              "example": "card"
                            },
                            "contract_type": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "9eacb1d1-5c9e-4f12-a828-8aafc4ec95f3"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Location journali√®re"
                                }
                              }
                            },
                            "package": {
                              "type": "object",
                              "nullable": true,
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "23e1c2b2-3c11-4dc3-bcfa-3bc7a6a046e0"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Formule 3 robes"
                                },
                                "price_ttc": {
                                  "type": "number",
                                  "example": 2500
                                }
                              }
                            },
                            "customer": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid",
                                  "example": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443"
                                },
                                "firstname": {
                                  "type": "string",
                                  "example": "Lina"
                                },
                                "lastname": {
                                  "type": "string",
                                  "example": "Dupont"
                                },
                                "email": {
                                  "type": "string",
                                  "example": "lina.dupont@email.com"
                                },
                                "phone": {
                                  "type": "string",
                                  "example": "+33612345678"
                                },
                                "city": {
                                  "type": "string",
                                  "example": "Paris"
                                }
                              }
                            },
                            "dresses": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "id": {
                                    "type": "string",
                                    "format": "uuid",
                                    "example": "e5f789ad-2bbf-45a3-9a3c-02bce5a64d73"
                                  },
                                  "dress": {
                                    "type": "object",
                                    "properties": {
                                      "id": {
                                        "type": "string",
                                        "example": "d1a2f3b4-5678-4321-9abc-1234567890de"
                                      },
                                      "name": {
                                        "type": "string",
                                        "example": "Robe de soir√©e rouge"
                                      },
                                      "reference": {
                                        "type": "string",
                                        "example": "DR-RED-42"
                                      },
                                      "price_ttc": {
                                        "type": "number",
                                        "example": 800
                                      }
                                    }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "698cf95d-ca73-4520-aee6-02c07e7ae51f",
                    "contract_id": "79b4ebae-f107-4ca4-953e-b53b2e66e57a",
                    "customer_id": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443",
                    "token": "ec761633-8a87-4d58-8373-afacc03a602a",
                    "expires_at": "2025-11-13T09:40:58.208Z",
                    "contract": {
                      "id": "79b4ebae-f107-4ca4-953e-b53b2e66e57a",
                      "contract_number": "CT-2025-0012",
                      "status": "DRAFT",
                      "start_datetime": "2025-11-05T11:00:00.000Z",
                      "end_datetime": "2025-11-06T11:00:00.000Z",
                      "total_price_ht": 2083.33,
                      "total_price_ttc": 2500,
                      "deposit_payment_method": "card",
                      "contract_type": {
                        "id": "9eacb1d1-5c9e-4f12-a828-8aafc4ec95f3",
                        "name": "Location journali√®re"
                      },
                      "package": {
                        "id": "23e1c2b2-3c11-4dc3-bcfa-3bc7a6a046e0",
                        "name": "Formule 3 robes",
                        "price_ttc": 2500
                      },
                      "customer": {
                        "id": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443",
                        "firstname": "Lina",
                        "lastname": "Dupont",
                        "email": "lina.dupont@email.com",
                        "phone": "+33612345678",
                        "city": "Paris"
                      },
                      "dresses": [
                        {
                          "id": "e5f789ad-2bbf-45a3-9a3c-02bce5a64d73",
                          "dress": {
                            "id": "d1a2f3b4-5678-4321-9abc-1234567890de",
                            "name": "Robe de soir√©e rouge",
                            "reference": "DR-RED-42",
                            "price_ttc": 800
                          }
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Le token ne correspond √† aucun lien de signature valide",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Lien de signature introuvable"
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "Le lien de signature a expir√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Lien expir√©"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur interne serveur"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/sign-links/{token}/sign": {
      "post": {
        "summary": "Signer √©lectroniquement un contrat via un lien de signature",
        "description": "Valide la signature √©lectronique du contrat associ√© au token fourni. Si le lien est valide et non expir√©, le statut du contrat est mis √† jour en `SIGNED_ELECTRONICALLY`. Supprime le lien de signature pour √©viter une r√©utilisation.",
        "operationId": "signContractViaLink",
        "tags": [
          "Contracts"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "path",
            "required": true,
            "description": "Token unique du lien de signature √©lectronique",
            "schema": {
              "type": "string",
              "example": "ec761633-8a87-4d58-8373-afacc03a602a"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contrat sign√© √©lectroniquement avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "79b4ebae-f107-4ca4-953e-b53b2e66e57a"
                        },
                        "contract_number": {
                          "type": "string",
                          "example": "CT-2025-0012"
                        },
                        "status": {
                          "type": "string",
                          "example": "SIGNED_ELECTRONICALLY"
                        },
                        "start_datetime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-05T11:00:00.000Z"
                        },
                        "end_datetime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-06T11:00:00.000Z"
                        },
                        "total_price_ht": {
                          "type": "number",
                          "example": 2083.33
                        },
                        "total_price_ttc": {
                          "type": "number",
                          "example": 2500
                        },
                        "deposit_payment_method": {
                          "type": "string",
                          "example": "card"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-11-03T10:30:00.000Z"
                        },
                        "customer": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443"
                            },
                            "firstname": {
                              "type": "string",
                              "example": "Lina"
                            },
                            "lastname": {
                              "type": "string",
                              "example": "Dupont"
                            },
                            "email": {
                              "type": "string",
                              "example": "lina.dupont@email.com"
                            },
                            "phone": {
                              "type": "string",
                              "example": "+33612345678"
                            },
                            "city": {
                              "type": "string",
                              "example": "Paris"
                            }
                          }
                        },
                        "contract_type": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid",
                              "example": "9eacb1d1-5c9e-4f12-a828-8aafc4ec95f3"
                            },
                            "name": {
                              "type": "string",
                              "example": "Location journali√®re"
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "79b4ebae-f107-4ca4-953e-b53b2e66e57a",
                    "contract_number": "CT-2025-0012",
                    "status": "SIGNED_ELECTRONICALLY",
                    "start_datetime": "2025-11-05T11:00:00.000Z",
                    "end_datetime": "2025-11-06T11:00:00.000Z",
                    "total_price_ht": 2083.33,
                    "total_price_ttc": 2500,
                    "deposit_payment_method": "card",
                    "updated_at": "2025-11-03T10:30:00.000Z",
                    "customer": {
                      "id": "4d8fdff7-10b5-4ee4-b5a4-68ff0ceec443",
                      "firstname": "Lina",
                      "lastname": "Dupont",
                      "email": "lina.dupont@email.com",
                      "phone": "+33612345678",
                      "city": "Paris"
                    },
                    "contract_type": {
                      "id": "9eacb1d1-5c9e-4f12-a828-8aafc4ec95f3",
                      "name": "Location journali√®re"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Lien invalide ou contrat introuvable",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Lien invalide"
                    }
                  }
                }
              }
            }
          },
          "410": {
            "description": "Le lien de signature a expir√©",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Lien expir√©"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur interne lors de la signature"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/contracts/full-view": {
      "get": {
        "tags": [
          "Contracts"
        ],
        "summary": "Get all contracts with full view details",
        "description": "Retrieves a comprehensive list of all contracts with related data from the `contracts_full_view` SQL view. Optionally, you can filter the results by a specific customer using the `customer_id` query parameter or run a keyword search across contract numbers and customer identity fields via the `search` parameter. Each contract record contains financial data, package information, contract type, dresses, and addons.",
        "operationId": "getContractsFullView",
        "parameters": [
          {
            "name": "customer_id",
            "in": "query",
            "required": false,
            "description": "Optional filter to retrieve only contracts belonging to a specific customer.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "135fb9e8-20c2-4874-8251-33e7ab0ddeb8"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "description": "Case-insensitive keyword matched against contract number, customer first name, last name, or email.",
            "schema": {
              "type": "string",
              "example": "CTR-2025"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved one or multiple contracts.",
            "content": {
              "application/json": {
                "examples": {
                  "allContracts": {
                    "summary": "Example response for all contracts",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "a7b2c3d4-5678-90ab-cdef-1234567890ab",
                          "contract_number": "CTR-2025-001",
                          "start_datetime": "2025-03-15T10:00:00.000Z",
                          "end_datetime": "2025-03-20T18:00:00.000Z",
                          "status": "SIGNED",
                          "deposit_payment_method": "card",
                          "account_ht": 500,
                          "account_ttc": 600,
                          "account_paid_ht": 250,
                          "account_paid_ttc": 300,
                          "caution_ht": 200,
                          "caution_ttc": 240,
                          "total_price_ht": 700,
                          "total_price_ttc": 840,
                          "contract_type_name": "Location par jour",
                          "package_name": null,
                          "customer_id": "135fb9e8-20c2-4874-8251-33e7ab0ddeb8",
                          "created_at": "2025-03-10T14:35:22.000Z",
                          "updated_at": "2025-03-11T09:00:00.000Z"
                        }
                      ]
                    }
                  },
                  "filteredByCustomer": {
                    "summary": "Example response filtered by customer_id",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "e25b321f-4b13-49e4-8d19-8b8edc6de71b",
                          "contract_number": "CTR-2025-045",
                          "start_datetime": "2025-04-01T09:00:00.000Z",
                          "end_datetime": "2025-04-03T17:00:00.000Z",
                          "status": "PENDING_SIGNATURE",
                          "deposit_payment_method": "cash",
                          "account_ht": 400,
                          "account_ttc": 480,
                          "account_paid_ht": 200,
                          "account_paid_ttc": 240,
                          "caution_ht": 100,
                          "caution_ttc": 120,
                          "total_price_ht": 500,
                          "total_price_ttc": 600,
                          "contract_type_name": "Forfait Mariage",
                          "package_name": "Forfait √âl√©gance",
                          "customer_id": "135fb9e8-20c2-4874-8251-33e7ab0ddeb8",
                          "created_at": "2025-04-01T11:00:00.000Z",
                          "updated_at": "2025-04-02T10:30:00.000Z"
                        }
                      ]
                    }
                  }
                },
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "description": "Array of contract records from the full view table.",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "contract_number": {
                            "type": "string"
                          },
                          "start_datetime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "end_datetime": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "status": {
                            "type": "string",
                            "enum": [
                              "PENDING_SIGNATURE",
                              "SIGNED",
                              "CANCELLED",
                              "EXPIRED"
                            ],
                            "example": "SIGNED"
                          },
                          "deposit_payment_method": {
                            "type": "string",
                            "enum": [
                              "cash",
                              "card",
                              "transfer"
                            ],
                            "example": "card"
                          },
                          "account_ht": {
                            "type": "number",
                            "example": 500
                          },
                          "account_ttc": {
                            "type": "number",
                            "example": 600
                          },
                          "account_paid_ht": {
                            "type": "number",
                            "example": 250
                          },
                          "account_paid_ttc": {
                            "type": "number",
                            "example": 300
                          },
                          "caution_ht": {
                            "type": "number",
                            "example": 200
                          },
                          "caution_ttc": {
                            "type": "number",
                            "example": 240
                          },
                          "caution_paid_ht": {
                            "type": "number",
                            "example": 0
                          },
                          "caution_paid_ttc": {
                            "type": "number",
                            "example": 0
                          },
                          "total_price_ht": {
                            "type": "number",
                            "example": 700
                          },
                          "total_price_ttc": {
                            "type": "number",
                            "example": 840
                          },
                          "contract_type_name": {
                            "type": "string",
                            "example": "Location par jour"
                          },
                          "package_name": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "example": "Forfait √âl√©gance"
                          },
                          "customer_id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî failed to fetch data from `contracts_full_view`.",
            "content": {
              "application/json": {
                "examples": {
                  "dbError": {
                    "summary": "Database query failed",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch contracts_full_view"
                    }
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/contracts/{id}/hard": {
      "delete": {
        "tags": [
          "Contracts"
        ],
        "summary": "Hard delete a contract (permanent removal)",
        "description": "Permanently removes a contract from the database. This operation cannot be undone and should only be used by administrators with elevated privileges.",
        "operationId": "hardDeleteContract",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract to be permanently deleted.",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Contract successfully deleted from database",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Contract permanently deleted"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Contract not found in the database"
          },
          "500": {
            "description": "Internal server error during hard delete"
          }
        }
      }
    },
    "/contracts/{id}/generate-pdf": {
      "post": {
        "tags": [
          "Contracts"
        ],
        "summary": "Generate a manual-signature PDF for a contract",
        "description": "Creates a fresh PDF (with manual signature block) for the specified contract, uploads it to the Hetzner bucket, updates the contract record (status/signature link) and returns the public URL.",
        "operationId": "generateContractPdfManually",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract to export.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93"
            }
          }
        ],
        "requestBody": {
          "description": "Aucune donn√©e n'est requise pour cette op√©ration.",
          "required": false,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "description": "Empty object"
              },
              "example": {}
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ PDF generated and contract updated.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "link": {
                      "type": "string",
                      "format": "uri",
                      "description": "Public URL of the generated PDF."
                    }
                  },
                  "required": [
                    "link"
                  ]
                },
                "example": {
                  "link": "https://media-allure-creation.hel1.your-objectstorage.com/contracts/f4a6/signed_1730941710000.pdf"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract not found."
          },
          "500": {
            "description": "üí• Internal error while generating the PDF."
          }
        }
      }
    },
    "/contracts/{id}/upload-signed-pdf": {
      "post": {
        "tags": [
          "Contracts"
        ],
        "summary": "Upload a manually signed contract PDF",
        "description": "Accepts a signed PDF (multipart/form-data), stores it in Hetzner Object Storage, updates the contract status to `SIGNED`, and persists the public link.",
        "operationId": "uploadSignedContractPdf",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract to update.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "b412afd1-f508-49dd-8828-d336408e0cb5"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "PDF file containing the signed contract."
                  }
                },
                "required": [
                  "file"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Signed PDF stored successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "link": {
                      "type": "string",
                      "format": "uri",
                      "description": "URL of the uploaded PDF."
                    }
                  },
                  "required": [
                    "success",
                    "link"
                  ]
                },
                "example": {
                  "success": true,
                  "link": "https://media-allure-creation.hel1.your-objectstorage.com/contracts/b412afd1-f508-49dd-8828-d336408e0cb5/signed_upload_1730944132000.pdf"
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing contract ID or PDF file."
          },
          "404": {
            "description": "‚ùå Contract not found."
          },
          "500": {
            "description": "üí• Internal server error while storing the PDF."
          }
        }
      }
    },
    "/contracts/download/{contractId}/{token}": {
      "get": {
        "summary": "T√©l√©charger le contrat sign√© (PUBLIC)",
        "description": "Endpoint public permettant de t√©l√©charger le PDF d'un contrat sign√©. N√©cessite l'ID du contrat et un token de s√©curit√© (signature_reference). Redirige vers l'URL du PDF sign√© stock√© sur Hetzner Object Storage. Cet endpoint ne n√©cessite pas d'authentification.",
        "operationId": "downloadSignedContract",
        "tags": [
          "Contracts"
        ],
        "security": [],
        "parameters": [
          {
            "name": "contractId",
            "in": "path",
            "required": true,
            "description": "UUID du contrat dont on veut t√©l√©charger le PDF sign√©",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "79b4ebae-f107-4ca4-953e-b53b2e66e57a"
            }
          },
          {
            "name": "token",
            "in": "path",
            "required": true,
            "description": "Token de s√©curit√© (signature_reference) g√©n√©r√© lors de la signature du contrat",
            "schema": {
              "type": "string",
              "example": "ec761633-8a87-4d58-8373-afacc03a602a"
            }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirection vers l'URL du PDF sign√©",
            "headers": {
              "Location": {
                "description": "URL du PDF sign√© sur Hetzner Object Storage",
                "schema": {
                  "type": "string",
                  "format": "uri",
                  "example": "https://media-allure-creation.hel1.your-objectstorage.com/contracts/79b4ebae-f107-4ca4-953e-b53b2e66e57a/signed_1730944132000.pdf"
                }
              }
            }
          },
          "400": {
            "description": "Param√®tres manquants (contractId ou token)",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Contract ID et token sont requis"
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Token invalide ou ne correspond pas au contrat",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Token invalide"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Contrat introuvable ou aucun PDF sign√© disponible",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Contrat introuvable",
                      "enum": [
                        "Contrat introuvable",
                        "Aucun PDF sign√© disponible pour ce contrat"
                      ]
                    }
                  }
                },
                "examples": {
                  "contractNotFound": {
                    "summary": "Contrat introuvable",
                    "value": {
                      "success": false,
                      "error": "Contrat introuvable"
                    }
                  },
                  "noPdf": {
                    "summary": "Aucun PDF sign√©",
                    "value": {
                      "success": false,
                      "error": "Aucun PDF sign√© disponible pour ce contrat"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Erreur interne du serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur interne lors du t√©l√©chargement du contrat"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/contract-types": {
      "get": {
        "tags": [
          "Contract Types"
        ],
        "summary": "Retrieve all contract types",
        "description": "Fetches all available contract types that have not been soft-deleted. This endpoint is useful for populating dropdowns or selection lists when creating or editing contracts. Results are sorted alphabetically by name.",
        "operationId": "getContractTypes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all contract types",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContractTypesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: List of contract types",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "8c1d72b3-6e91-47b9-8c1e-f13c19e5b4de",
                          "name": "Location journali√®re",
                          "description": "Contrat de location √† la journ√©e",
                          "created_at": "2025-05-14T09:15:30.000Z",
                          "updated_at": null
                        },
                        {
                          "id": "bca0d9f7-9f33-4d8e-b3e3-7a22ed1b6ac7",
                          "name": "Location week-end",
                          "description": "Contrat valable pour une dur√©e de deux jours",
                          "created_at": "2025-04-21T10:45:10.000Z",
                          "updated_at": "2025-05-01T12:00:00.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch contract types",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to fetch contract types"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Contract Types"
        ],
        "summary": "Create a new contract type",
        "description": "Creates a new contract type in the database. The field `name` is required and must be unique. The authenticated user's ID is automatically recorded as `created_by`.",
        "operationId": "createContractType",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContractTypeRequest"
              },
              "example": {
                "name": "Location longue dur√©e"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Contract type successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateContractTypeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "ct_7a2c9d51",
                    "name": "Location longue dur√©e",
                    "created_by": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                    "created_at": "2025-10-09T18:35:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required field `name`",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Name is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to create contract type",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to create contract type"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/contract-types/{id}": {
      "put": {
        "tags": [
          "Contract Types"
        ],
        "summary": "Update an existing contract type",
        "description": "Updates the name of an existing contract type. The authenticated user's ID is automatically stored in `updated_by`.",
        "operationId": "updateContractType",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The UUID of the contract type to update",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "bca0d9f7-9f33-4d8e-b3e3-7a22ed1b6ac7"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractTypeRequest"
              },
              "example": {
                "name": "Location longue dur√©e (modifi√©e)"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Contract type successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateContractTypeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "bca0d9f7-9f33-4d8e-b3e3-7a22ed1b6ac7",
                    "name": "Location longue dur√©e (modifi√©e)",
                    "updated_by": "16937819-c033-438f-bbad-543d83443371",
                    "updated_at": "2025-10-09T20:45:00.000Z"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to update contract type",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to update contract type"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/contract-types/{id}/soft": {
      "patch": {
        "tags": [
          "Contract Types"
        ],
        "summary": "Soft delete a contract type",
        "description": "Marks a contract type as deleted by setting its `deleted_at` timestamp and `deleted_by` user. The data remains in the database for traceability.",
        "operationId": "softDeleteContractType",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The UUID of the contract type to soft delete",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "8c1d72b3-6e91-47b9-8c1e-f13c19e5b4de"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract type successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteContractTypeSoftResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "8c1d72b3-6e91-47b9-8c1e-f13c19e5b4de",
                    "deleted_at": "2025-10-09T20:50:00.000Z",
                    "deleted_by": "16937819-c033-438f-bbad-543d83443371"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to soft delete contract type",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to soft delete contract type"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/contract-types/{id}/hard": {
      "delete": {
        "tags": [
          "Contract Types"
        ],
        "summary": "Permanently delete a contract type",
        "description": "Completely removes a contract type from the database. Use with caution ‚Äî this action cannot be undone.",
        "operationId": "hardDeleteContractType",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "The UUID of the contract type to delete permanently",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "bca0d9f7-9f33-4d8e-b3e3-7a22ed1b6ac7"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract type permanently deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteContractTypeHardResponse"
                },
                "example": {
                  "success": true,
                  "message": "Contract type permanently deleted"
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to delete contract type",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to hard delete contract type"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/contract-packages": {
      "get": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Retrieve all contract packages",
        "description": "Fetches all active (non-deleted) contract packages from the database. Each package includes its associated add-ons. This endpoint is useful for displaying available package options when creating or editing contracts.",
        "operationId": "getAllContractPackages",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all contract packages",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContractPackagesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: List of available contract packages",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "pkg_001",
                          "name": "Formule Classique",
                          "description": "Location simple sans options suppl√©mentaires",
                          "price_ht": 200,
                          "price_ttc": 240,
                          "created_at": "2025-05-14T09:15:30.000Z",
                          "addons": []
                        },
                        {
                          "id": "pkg_002",
                          "name": "Formule Premium",
                          "description": "Inclut pressing et livraison √† domicile",
                          "price_ht": 350,
                          "price_ttc": 420,
                          "created_at": "2025-05-14T09:15:30.000Z",
                          "addons": [
                            {
                              "id": "addon_01",
                              "name": "Pressing inclus",
                              "price_ht": 25,
                              "price_ttc": 30
                            },
                            {
                              "id": "addon_02",
                              "name": "Livraison √† domicile",
                              "price_ht": 40,
                              "price_ttc": 48
                            }
                          ]
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid JWT",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal Server Error ‚Äî Failed to fetch contract packages",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to fetch contract packages"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Create a new contract package",
        "description": "Creates a new contract package with its associated pricing and optional add-ons. Requires authentication. The authenticated user's ID is automatically stored in `created_by`.",
        "operationId": "createContractPackage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContractPackageRequest"
              },
              "examples": {
                "basicPackage": {
                  "summary": "Basic package without add-ons",
                  "value": {
                    "name": "Formule Classique",
                    "num_dresses": 1,
                    "price_ht": 200,
                    "price_ttc": 240
                  }
                },
                "packageWithAddons": {
                  "summary": "Package with associated add-ons",
                  "value": {
                    "name": "Formule Premium",
                    "num_dresses": 2,
                    "price_ht": 350,
                    "price_ttc": 420,
                    "addon_ids": [
                      "addon_01",
                      "addon_02"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Contract package successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateContractPackageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Successful package creation",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "pkg_001",
                        "name": "Formule Premium",
                        "num_dresses": 2,
                        "price_ht": 350,
                        "price_ttc": 420,
                        "created_at": "2025-10-09T22:20:00.000Z",
                        "created_by": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                        "addons": [
                          {
                            "addon": {
                              "id": "addon_01",
                              "name": "Pressing inclus",
                              "price_ht": 25,
                              "price_ttc": 30
                            }
                          },
                          {
                            "addon": {
                              "id": "addon_02",
                              "name": "Livraison √† domicile",
                              "price_ht": 40,
                              "price_ttc": 48
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid fields in request body",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Name is required"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid JWT token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal Server Error ‚Äî Failed to create contract package",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to create contract package"
                }
              }
            }
          }
        }
      }
    },
    "/contract-packages/{id}": {
      "get": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Retrieve contract package by ID",
        "description": "Fetches a specific contract package and its associated add-ons by its unique identifier.",
        "operationId": "getContractPackageById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract package to retrieve",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "pkg_002"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved contract package",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContractPackageByIdResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Single package",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "pkg_002",
                        "name": "Formule Premium",
                        "description": "Inclut pressing et livraison √† domicile",
                        "price_ht": 350,
                        "price_ttc": 420,
                        "created_at": "2025-05-14T09:15:30.000Z",
                        "addons": [
                          {
                            "id": "addon_01",
                            "name": "Pressing inclus",
                            "price_ht": 25,
                            "price_ttc": 30
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Not Found ‚Äî Contract package not found or deleted",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract package not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal Server Error ‚Äî Failed to fetch contract package",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to fetch contract package"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Update a contract package",
        "description": "Updates an existing contract package with new data. All existing add-ons will be replaced if `addon_ids` are provided. Requires authentication. The user's ID is recorded in `updated_by`.",
        "operationId": "updateContractPackage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract package to update",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "pkg_001"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateContractPackageRequest"
              },
              "examples": {
                "updateBasicFields": {
                  "summary": "Update basic package information",
                  "value": {
                    "name": "Formule Classique R√©vis√©e",
                    "num_dresses": 3,
                    "price_ht": 250,
                    "price_ttc": 300
                  }
                },
                "updateWithAddons": {
                  "summary": "Update package and replace add-ons",
                  "value": {
                    "name": "Formule Premium Plus",
                    "num_dresses": 2,
                    "price_ht": 400,
                    "price_ttc": 480,
                    "addon_ids": [
                      "addon_01",
                      "addon_03"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Contract package successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateContractPackageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Updated package",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "pkg_001",
                        "name": "Formule Premium Plus",
                        "num_dresses": 2,
                        "price_ht": 400,
                        "price_ttc": 480,
                        "updated_at": "2025-10-09T23:15:00.000Z",
                        "updated_by": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                        "addons": [
                          {
                            "addon": {
                              "id": "addon_01",
                              "name": "Pressing inclus",
                              "price_ht": 25,
                              "price_ttc": 30
                            }
                          },
                          {
                            "addon": {
                              "id": "addon_03",
                              "name": "Livraison express",
                              "price_ht": 50,
                              "price_ttc": 60
                            }
                          }
                        ]
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required fields or invalid request",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Invalid request body"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî missing or invalid JWT token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract package not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract package not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal Server Error ‚Äî Failed to update contract package",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to update contract package"
                }
              }
            }
          }
        }
      }
    },
    "/contract-packages/{id}/soft": {
      "patch": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Soft delete a contract package",
        "description": "Marks a contract package as deleted without permanently removing it from the database. The field `deleted_at` is set with the current timestamp and `deleted_by` stores the user ID of the authenticated user.",
        "operationId": "softDeleteContractPackage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract package to soft delete",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "pkg_001"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract package successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteContractPackageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Successful soft delete",
                    "value": {
                      "success": true,
                      "message": "Contract package soft deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid request ‚Äî missing or malformed ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized ‚Äî Missing or invalid JWT token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract package not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract package not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal Server Error ‚Äî Failed to soft delete contract package",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to delete contract package"
                }
              }
            }
          }
        }
      }
    },
    "/contract-packages/{id}/hard": {
      "delete": {
        "tags": [
          "Contract Packages"
        ],
        "summary": "Permanently delete a contract package",
        "description": "Completely removes a contract package from the database. This operation is **irreversible**. Only authorized users (e.g., ADMIN) should perform this action.",
        "operationId": "hardDeleteContractPackage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the contract package to permanently delete",
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "example": "b97a5e19-44f0-4e65-b4f3-762a5a654fe8"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract package permanently deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteContractPackageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: successful hard delete",
                    "value": {
                      "success": true,
                      "message": "Contract package permanently deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid request - missing or malformed ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid JWT token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract package not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract package not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to permanently delete contract package",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to permanently delete contract package"
                }
              }
            }
          }
        }
      }
    },
    "/contract-addons": {
      "get": {
        "tags": [
          "Contract Addons"
        ],
        "summary": "Retrieve all contract addons",
        "description": "Fetches all available contract addons that have not been soft-deleted. This endpoint returns addons sorted alphabetically by name, allowing them to be easily listed when creating or updating contract packages.",
        "operationId": "getContractAddons",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all contract addons",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContractAddonsResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: List of contract addons",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "a1b2c3d4-e5f6-7890-1234-abcdef987654",
                          "name": "Pressing express",
                          "description": "Service de pressing disponible sous 24h",
                          "price_ht": 15,
                          "price_ttc": 18,
                          "created_at": "2025-10-08T09:30:00.000Z",
                          "updated_at": null
                        },
                        {
                          "id": "f6e7d8c9-b0a1-2233-4455-6677889900aa",
                          "name": "Livraison √† domicile",
                          "description": "Livraison des robes directement chez le client",
                          "price_ht": 25,
                          "price_ttc": 30,
                          "created_at": "2025-09-14T14:12:00.000Z",
                          "updated_at": "2025-10-01T11:45:00.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch contract addons",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to fetch contract addons"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Contract Addons"
        ],
        "summary": "Create a new contract addon",
        "description": "Creates a new contract addon. If `included` is set to `true`, both `price_ht` and `price_ttc` will automatically be set to 0. The authenticated user's ID is recorded as `created_by`.",
        "operationId": "createContractAddon",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateContractAddonRequest"
              },
              "examples": {
                "standardAddon": {
                  "summary": "Standard addon with prices",
                  "value": {
                    "name": "Livraison √† domicile",
                    "description": "Livraison des tenues directement chez le client",
                    "price_ht": 25,
                    "price_ttc": 30,
                    "included": false
                  }
                },
                "includedAddon": {
                  "summary": "Addon included by default (free)",
                  "value": {
                    "name": "Pressing de base",
                    "included": true
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Contract addon successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateContractAddonResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: addon created successfully",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "c8b7d98a-25ab-49d3-8a40-03c1e173d56f",
                        "name": "Livraison √† domicile",
                        "description": "Livraison des tenues directement chez le client",
                        "price_ht": 25,
                        "price_ttc": 30,
                        "included": false,
                        "created_by": "16937819-c033-438f-bbad-543d83443371",
                        "created_at": "2025-10-09T21:00:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required field(s)",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Name is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to create contract addon",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to create contract addon"
                }
              }
            }
          }
        }
      }
    },
    "/contract-addons/{id}": {
      "get": {
        "tags": [
          "Contract Addons"
        ],
        "summary": "Retrieve a contract addon by ID",
        "description": "Fetches a single contract addon by its unique ID. Returns 404 if the addon does not exist or has been soft-deleted.",
        "operationId": "getContractAddonById",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract addon to retrieve",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "a1b2c3d4-e5f6-7890-1234-abcdef987654"
            }
          }
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved contract addon by ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetContractAddonByIdResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Single contract addon",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "a1b2c3d4-e5f6-7890-1234-abcdef987654",
                        "name": "Pressing express",
                        "description": "Service de pressing disponible sous 24h",
                        "price_ht": 15,
                        "price_ttc": 18,
                        "created_at": "2025-10-08T09:30:00.000Z",
                        "updated_at": null
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract addon not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract addon not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch contract addon",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to fetch contract addon"
                }
              }
            }
          }
        }
      }
    },
    "/contract-addons/{id}/soft": {
      "patch": {
        "tags": [
          "Contract Addons"
        ],
        "summary": "Soft delete a contract addon",
        "description": "Marks a contract addon as deleted by setting `deleted_at` and `deleted_by`. The addon remains in the database but is excluded from active queries. Useful for audit and recovery.",
        "operationId": "softDeleteContractAddon",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract addon to soft delete.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "d2b51c7b-4385-4b5b-8e8f-9942c3a2f1b7"
            }
          }
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract addon successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteContractAddonResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: addon soft deleted",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "d2b51c7b-4385-4b5b-8e8f-9942c3a2f1b7",
                        "name": "Livraison √† domicile",
                        "price_ht": 25,
                        "price_ttc": 30,
                        "included": false,
                        "deleted_by": "16937819-c033-438f-bbad-543d83443371",
                        "deleted_at": "2025-10-09T22:45:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing ID in request",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract addon not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract addon not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to soft delete contract addon",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to soft delete contract addon"
                }
              }
            }
          }
        }
      }
    },
    "/contract-addons/{id}/hard": {
      "delete": {
        "tags": [
          "Contract Addons"
        ],
        "summary": "Permanently delete a contract addon",
        "description": "Completely removes a contract addon from the database. This operation is irreversible and should be used with caution. Related references will cause an error if foreign key constraints are active.",
        "operationId": "hardDeleteContractAddon",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the contract addon to permanently delete.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "9c2d64d8-5e3b-4f94-8a18-56e1e693ab6c"
            }
          }
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Contract addon permanently deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteContractAddonResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: deletion successful",
                    "value": {
                      "success": true,
                      "message": "Contract addon permanently deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "ID is required"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Contract addon not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Contract addon not found"
                }
              }
            }
          },
          "409": {
            "description": "üîí Cannot delete due to existing dependencies",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Cannot delete: addon is linked to active packages or contracts"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to permanently delete contract addon",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to hard delete contract addon"
                }
              }
            }
          }
        }
      }
    },
    "/dresses": {
      "get": {
        "tags": [
          "Dresses"
        ],
        "summary": "Get all dresses",
        "description": "Retrieves a complete list of all dresses stored in the database that are **not soft deleted** (`deleted_at: null`). The endpoint returns each dress along with its related entities: `type`, `size`, `condition`, and `color`. Results are ordered by the creation date in **descending** order (most recent first).",
        "operationId": "getDresses",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 50
            },
            "description": "Optional limit for pagination ‚Äî the maximum number of dresses to retrieve."
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "example": 0
            },
            "description": "Optional offset for pagination ‚Äî number of records to skip."
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "example": "Robe de soir√©e"
            },
            "description": "Optional filter by dress type."
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "example": "M"
            },
            "description": "Optional filter by dress size."
          },
          {
            "name": "color",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "example": "Rouge"
            },
            "description": "Optional filter by dress color."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all active dresses.",
            "content": {
              "application/json": {
                "examples": {
                  "successResponse": {
                    "summary": "Successful retrieval of dresses list",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f",
                          "name": "Robe de soir√©e rouge √©l√©gante",
                          "reference": "RS-2025-004",
                          "description": "Robe fluide en satin rouge avec bretelles fines et dos nu.",
                          "price_ht": 120,
                          "price_ttc": 144,
                          "images": [
                            "https://cdn.allure-creation.fr/dresses/robe-rouge-1.jpg",
                            "https://cdn.allure-creation.fr/dresses/robe-rouge-2.jpg"
                          ],
                          "created_at": "2025-05-10T14:32:00.000Z",
                          "updated_at": "2025-06-01T09:00:00.000Z",
                          "type": {
                            "id": "e4b3a6df-f6b8-4a64-9d25-3e52bda8df21",
                            "name": "Robe de soir√©e"
                          },
                          "size": {
                            "id": "bd78c24f-b8e2-45f1-910b-273b63a5d889",
                            "label": "M"
                          },
                          "condition": {
                            "id": "4b7c0aa3-8a6e-4f6c-bb84-195a9f5e20a2",
                            "label": "Tr√®s bon √©tat"
                          },
                          "color": {
                            "id": "9b7f0a89-b1c1-4c58-a03f-fbcd85b2c4e3",
                            "label": "Rouge"
                          }
                        }
                      ]
                    }
                  }
                },
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true,
                      "description": "Indicates whether the request was successful."
                    },
                    "data": {
                      "type": "array",
                      "description": "List of dresses with related entities (type, size, condition, color).",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string",
                            "example": "Robe de mari√©e √âl√©gance"
                          },
                          "reference": {
                            "type": "string",
                            "example": "RM-2025-001"
                          },
                          "description": {
                            "type": "string",
                            "example": "Robe blanche en dentelle, coupe sir√®ne."
                          },
                          "price_ht": {
                            "type": "number",
                            "example": 400
                          },
                          "price_ttc": {
                            "type": "number",
                            "example": 480
                          },
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "format": "uri"
                            },
                            "example": [
                              "https://cdn.allure-creation.fr/dresses/mariee1.jpg",
                              "https://cdn.allure-creation.fr/dresses/mariee2.jpg"
                            ]
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updated_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time"
                          },
                          "type": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "name": {
                                "type": "string",
                                "example": "Robe de mari√©e"
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "S"
                              }
                            }
                          },
                          "condition": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "Excellent √©tat"
                              }
                            }
                          },
                          "color": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "Blanc ivoire"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch dresses.",
            "content": {
              "application/json": {
                "examples": {
                  "errorExample": {
                    "summary": "Example server error",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch dresses"
                    }
                  }
                },
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Failed to fetch dresses"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dresses"
        ],
        "summary": "Create a new dress",
        "description": "Creates a new dress record with optional image uploads (up to 5). Requires authentication via Bearer token. If images are provided, they are uploaded to Hetzner Object Storage. The `reference` field must be unique.",
        "operationId": "createDress",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Name of the dress",
                    "example": "Elegant Evening Gown"
                  },
                  "reference": {
                    "type": "string",
                    "description": "Unique internal reference for the dress",
                    "example": "EVG12345"
                  },
                  "price_ht": {
                    "type": "number",
                    "format": "float",
                    "example": 150
                  },
                  "price_ttc": {
                    "type": "number",
                    "format": "float",
                    "example": 180
                  },
                  "price_per_day_ht": {
                    "type": "number",
                    "format": "float",
                    "example": 15
                  },
                  "price_per_day_ttc": {
                    "type": "number",
                    "format": "float",
                    "example": 18
                  },
                  "type_id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "2502e841-b7a6-48dc-ad8a-f5b69dcda649"
                  },
                  "size_id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "e1385f86-b163-4c4c-a671-b269aa9ad7f4"
                  },
                  "condition_id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "3bf7f7e0-c461-4ba5-8fea-a4fd2b8eeea8"
                  },
                  "color_id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
                  },
                  "images": {
                    "type": "array",
                    "description": "Up to 5 uploaded images for the dress",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "maxItems": 5
                  }
                },
                "required": [
                  "name",
                  "reference",
                  "price_ht",
                  "price_ttc",
                  "price_per_day_ht",
                  "price_per_day_ttc",
                  "type_id",
                  "size_id",
                  "condition_id",
                  "color_id"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Dress successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDressResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example success response",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "b5c28a27-23b5-437b-9eaa-9a61260e34f5",
                        "name": "Elegant Evening Gown",
                        "reference": "EVG12345",
                        "price_ht": 150,
                        "price_ttc": 180,
                        "price_per_day_ht": 15,
                        "price_per_day_ttc": 18,
                        "type_id": "2502e841-b7a6-48dc-ad8a-f5b69dcda649",
                        "size_id": "e1385f86-b163-4c4c-a671-b269aa9ad7f4",
                        "condition_id": "3bf7f7e0-c461-4ba5-8fea-a4fd2b8eeea8",
                        "color_id": "7f736acb-7b51-4d07-9c18-13dbffeaabf8",
                        "images": [
                          "https://allure-dress-storage.hel1.your-objectstorage.com/87f67b2a-f230-4c2d-844e-dc03bdfd09d1.png"
                        ],
                        "created_by": "16937819-c033-438f-bbad-543d83443371",
                        "created_at": "2025-10-09T22:45:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid field(s)",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Name and reference are required"
                }
              }
            }
          },
          "409": {
            "description": "‚ö†Ô∏è Duplicate reference",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Reference already exists"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to create dress",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to create dress"
                }
              }
            }
          }
        }
      }
    },
    "/dresses/{id}": {
      "get": {
        "tags": [
          "Dresses"
        ],
        "summary": "Get a dress by its unique ID",
        "description": "Fetches a single dress record from the database based on its unique identifier. The endpoint also includes related data from the linked tables: `type`, `size`, `condition`, and `color`. This operation is typically used for displaying a dress details page in the admin dashboard or public catalog. Only dresses that exist and are not soft-deleted can be retrieved.",
        "operationId": "getDressById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the dress to retrieve.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "a7b2c3d4-5678-90ab-cdef-1234567890ab"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved the dress record.",
            "content": {
              "application/json": {
                "examples": {
                  "successExample": {
                    "summary": "Example response for a found dress",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "a7b2c3d4-5678-90ab-cdef-1234567890ab",
                        "name": "Robe de soir√©e rouge √©l√©gante",
                        "reference": "RS-2025-004",
                        "description": "Robe fluide en satin rouge avec bretelles fines et dos nu.",
                        "price_ht": 120,
                        "price_ttc": 144,
                        "price_per_day_ht": 50,
                        "price_per_day_ttc": 60,
                        "images": [
                          "https://cdn.allure-creation.fr/dresses/robe-rouge-1.jpg",
                          "https://cdn.allure-creation.fr/dresses/robe-rouge-2.jpg"
                        ],
                        "created_at": "2025-05-10T14:32:00.000Z",
                        "updated_at": "2025-06-01T09:00:00.000Z",
                        "type": {
                          "id": "e4b3a6df-f6b8-4a64-9d25-3e52bda8df21",
                          "name": "Robe de soir√©e"
                        },
                        "size": {
                          "id": "bd78c24f-b8e2-45f1-910b-273b63a5d889",
                          "label": "M"
                        },
                        "condition": {
                          "id": "4b7c0aa3-8a6e-4f6c-bb84-195a9f5e20a2",
                          "label": "Tr√®s bon √©tat"
                        },
                        "color": {
                          "id": "9b7f0a89-b1c1-4c58-a03f-fbcd85b2c4e3",
                          "label": "Rouge"
                        }
                      }
                    }
                  }
                },
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true,
                      "description": "Indicates whether the request was successful."
                    },
                    "data": {
                      "type": "object",
                      "description": "Dress object with related entities.",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "a7b2c3d4-5678-90ab-cdef-1234567890ab"
                        },
                        "name": {
                          "type": "string",
                          "example": "Robe de soir√©e rouge √©l√©gante"
                        },
                        "reference": {
                          "type": "string",
                          "example": "RS-2025-004"
                        },
                        "description": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "example": "Robe fluide en satin rouge avec bretelles fines et dos nu."
                        },
                        "price_ht": {
                          "type": "number",
                          "example": 120
                        },
                        "price_ttc": {
                          "type": "number",
                          "example": 144
                        },
                        "price_per_day_ht": {
                          "type": "number",
                          "example": 50
                        },
                        "price_per_day_ttc": {
                          "type": "number",
                          "example": 60
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "format": "uri"
                          },
                          "example": [
                            "https://cdn.allure-creation.fr/dresses/robe-rouge-1.jpg",
                            "https://cdn.allure-creation.fr/dresses/robe-rouge-2.jpg"
                          ]
                        },
                        "created_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-05-10T14:32:00.000Z"
                        },
                        "updated_at": {
                          "type": [
                            "string",
                            "null"
                          ],
                          "format": "date-time",
                          "example": "2025-06-01T09:00:00.000Z"
                        },
                        "type": {
                          "type": "object",
                          "description": "Associated dress type (e.g., soir√©e, mari√©e, cocktail).",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "name": {
                              "type": "string",
                              "example": "Robe de soir√©e"
                            }
                          }
                        },
                        "size": {
                          "type": "object",
                          "description": "Size of the dress.",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "label": {
                              "type": "string",
                              "example": "M"
                            }
                          }
                        },
                        "condition": {
                          "type": "object",
                          "description": "Condition of the dress.",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "label": {
                              "type": "string",
                              "example": "Tr√®s bon √©tat"
                            }
                          }
                        },
                        "color": {
                          "type": "object",
                          "description": "Color of the dress.",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "label": {
                              "type": "string",
                              "example": "Rouge"
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing or invalid ID parameter.",
            "content": {
              "application/json": {
                "examples": {
                  "missingId": {
                    "summary": "No ID provided in the path",
                    "value": {
                      "success": false,
                      "error": "ID is required"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress not found in the database.",
            "content": {
              "application/json": {
                "examples": {
                  "notFound": {
                    "summary": "Dress ID does not match any record",
                    "value": {
                      "success": false,
                      "error": "Dress not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - could not fetch the dress.",
            "content": {
              "application/json": {
                "examples": {
                  "serverError": {
                    "summary": "Unexpected database or server failure",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch dress by ID"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Dresses"
        ],
        "summary": "Update an existing dress",
        "description": "Update an existing dress identified by its UUID. Supports both JSON body and multipart/form-data for optional file uploads. Only include the fields you wish to modify.",
        "operationId": "updateDress",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "UUID of the dress to update",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDressRequest"
              },
              "example": {
                "name": "Robe revisit√©",
                "reference": "RCB2025",
                "price_ht": 200,
                "price_ttc": 240,
                "price_per_day_ht": 25,
                "price_per_day_ttc": 30,
                "type_id": "2502e841-b7a6-48dc-ad8a-f5b69dcda649",
                "size_id": "e1385f86-b163-4c4c-a671-b269aa9ad7f4",
                "condition_id": "3bf7f7e0-c461-4ba5-8fea-a4fd2b8eeea8",
                "color_id": "7f736acb-7b51-4d07-9c18-13dbffeaabf8",
                "images": [
                  "https://media-allure-creation.hel1.your-objectstorage.com/dresses/f48b273d-e41a-48a5-b2cf-30adcd0d96b9"
                ]
              }
            },
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "data": {
                    "type": "string",
                    "description": "Stringified JSON containing dress fields to update",
                    "example": "{\"name\":\"Robe revisit√©\",\"price_ht\":200,\"price_ttc\":240,\"images\":[]}"
                  },
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Optional image files to upload (max 5)"
                  }
                },
                "required": [
                  "data"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDressResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request"
          },
          "404": {
            "description": "Dress not found"
          },
          "500": {
            "description": "Internal Server Error"
          }
        }
      }
    },
    "/dresses/availability": {
      "get": {
        "tags": [
          "Dresses"
        ],
        "summary": "Get dress availability in a given date range",
        "description": "Retourne **toutes** les robes actives (non supprim√©es), avec pour chacune un flag `isAvailable` indiquant si elle est libre dans l'intervalle demand√©. Une robe est consid√©r√©e comme *non disponible* si elle est li√©e √† un contrat (statut DRAFT, PENDING ou SIGNED) qui chevauche la p√©riode demand√©e.\n\nSi aucun intervalle n'est fourni, l'API consid√®re `start = maintenant` et retourne les robes qui sont d√©j√† lou√©es maintenant ou √† venir.",
        "operationId": "getDressesAvailability",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "start",
            "in": "query",
            "required": false,
            "description": "D√©but de la p√©riode recherch√©e (ISO 8601). Exemple : 2025-10-21T10:00:00.000Z. Si non fourni, on utilise la date/heure actuelle.",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-10-21T10:00:00.000Z"
            }
          },
          {
            "name": "end",
            "in": "query",
            "required": false,
            "description": "Fin de la p√©riode recherch√©e (ISO 8601). Exemple : 2025-10-22T10:00:00.000Z. Si non fourni, on r√©cup√®re juste les contrats encore actifs apr√®s `start`.",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-10-22T10:00:00.000Z"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Disponibilit√© calcul√©e",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DressAvailabilityResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Exemple de r√©ponse avec p√©riode fournie",
                    "value": {
                      "success": true,
                      "count": 2,
                      "filters": {
                        "start": "2025-10-21T10:00:00.000Z",
                        "end": "2025-10-22T10:00:00.000Z"
                      },
                      "data": [
                        {
                          "id": "5815dc9e-f860-4791-9ea5-deadb782329e",
                          "name": "Robe Orientale Dor√©e",
                          "reference": "REF-OR-202",
                          "price_ht": 1018.33,
                          "price_ttc": 1222,
                          "price_per_day_ht": 100,
                          "price_per_day_ttc": 120,
                          "images": [
                            "https://media-allure-creation.hel1.your-objectstorage.com/dresses/3df7a0e6-bbcd-43c8-8a3b-e0b1ab2fe6ac",
                            "https://media-allure-creation.hel1.your-objectstorage.com/dresses/7a2d2f4c-6f9d-4d36-8d9f-25b27a1c412e"
                          ],
                          "isAvailable": false,
                          "current_contract": {
                            "start_datetime": "2025-10-21T10:00:00.000Z",
                            "end_datetime": "2025-10-22T10:00:00.000Z"
                          }
                        },
                        {
                          "id": "864b2458-a632-433c-9bc3-2ba812bbd13a",
                          "name": "Robe Blanche Perl√©e",
                          "reference": "RB-PEARL-01",
                          "price_ht": 1000,
                          "price_ttc": 1200,
                          "price_per_day_ht": 166.67,
                          "price_per_day_ttc": 200,
                          "images": [
                            "https://media-allure-creation.hel1.your-objectstorage.com/dresses/b906924e-22b3-454f-8707-6b5cdfae8c5d"
                          ],
                          "isAvailable": true,
                          "current_contract": null
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Erreur de validation (dates invalides)",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "invalidDates": {
                    "summary": "Dates invalides",
                    "value": {
                      "success": false,
                      "error": "Invalid start or end date"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Erreur serveur lors du calcul des disponibilit√©s",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Erreur interne",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch dress availability"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "patch": {
      "tags": [
        "Dresses"
      ],
      "summary": "Soft delete a dress (logical deletion)",
      "description": "Marks a dress as deleted by setting `deleted_at` and `deleted_by`, without removing it from the database. This allows recovery or auditing later.",
      "operationId": "softDeleteDress",
      "security": [
        {
          "bearerAuth": []
        }
      ],
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "Unique identifier of the dress to be soft deleted",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "üóë Robe soft supprim√©e",
          "content": {
            "application/json": {
              "example": {
                "success": true,
                "data": {
                  "id": "uuid",
                  "name": "Robe √âl√©gance",
                  "deleted_at": "2025-10-06T21:00:00.000Z",
                  "deleted_by": "uuid"
                }
              },
              "schema": {
                "type": "object",
                "properties": {
                  "success": {
                    "type": "boolean",
                    "example": true
                  },
                  "data": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "uuid"
                      },
                      "name": {
                        "type": "string",
                        "example": "Robe √âl√©gance"
                      },
                      "deleted_at": {
                        "type": "string",
                        "format": "date-time",
                        "example": "2025-10-06T21:00:00.000Z"
                      },
                      "deleted_by": {
                        "type": "string",
                        "format": "uuid",
                        "example": "uuid"
                      }
                    },
                    "required": [
                      "id",
                      "name",
                      "deleted_at",
                      "deleted_by"
                    ]
                  }
                },
                "required": [
                  "success",
                  "data"
                ]
              }
            }
          }
        },
        "404": {
          "description": "Robe non trouv√©e",
          "content": {
            "application/json": {
              "example": {
                "success": false,
                "message": "Robe non trouv√©e"
              }
            }
          }
        },
        "500": {
          "description": "‚ùå Erreur soft delete robe",
          "content": {
            "application/json": {
              "example": {
                "success": false,
                "message": "Erreur interne du serveur"
              }
            }
          }
        }
      }
    },
    "/dresses/{id}/hard": {
      "delete": {
        "tags": [
          "Dresses"
        ],
        "summary": "Hard delete a dress (permanent removal)",
        "description": "Permanently removes a dress record from the database. This operation cannot be undone and should only be used by administrators with the proper permissions. Use soft delete for reversible deletions.",
        "operationId": "hardDeleteDress",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique identifier of the dress to permanently delete.",
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress permanently deleted",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Dress permanently deleted"
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Dress successfully removed",
                    "value": {
                      "success": true,
                      "message": "Dress permanently deleted"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Dress not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to hard delete dress",
            "content": {
              "application/json": {
                "examples": {
                  "internalError": {
                    "summary": "Unexpected database or Prisma error",
                    "value": {
                      "success": false,
                      "error": "Failed to hard delete dress"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dresses/details-view": {
      "get": {
        "tags": [
          "Dresses"
        ],
        "summary": "Get all dresses with detailed view and filters",
        "description": "Retrieves a paginated and filtered list of dresses from the SQL view `dresses_with_details`. The endpoint supports multiple query filters including size, type, color, price, and creation date. It is optimized for catalog display and management dashboards.",
        "operationId": "getDressesWithDetails",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "required": false,
            "description": "Current page number for pagination.",
            "schema": {
              "type": "integer",
              "default": 1,
              "example": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "description": "Number of results to return per page.",
            "schema": {
              "type": "integer",
              "default": 10,
              "example": 10
            }
          },
          {
            "name": "sizes",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of size UUIDs to filter by.",
            "schema": {
              "type": "string",
              "example": "f23e8b2d-45c3-4b2a-a8d5-2e71df93c6a9,ae23cd09-07f4-4f5d-9ccf-b7d65b57d9e4"
            }
          },
          {
            "name": "types",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of dress type UUIDs to filter by.",
            "schema": {
              "type": "string",
              "example": "3c98d70b-ff45-43f3-aef2-cc9c12e682b7"
            }
          },
          {
            "name": "colors",
            "in": "query",
            "required": false,
            "description": "Comma-separated list of color UUIDs to filter by.",
            "schema": {
              "type": "string",
              "example": "b45aee22-94b8-4b1d-bb9e-d4e7a9c8e1b3"
            }
          },
          {
            "name": "priceMax",
            "in": "query",
            "required": false,
            "description": "Maximum total price (TTC) filter.",
            "schema": {
              "type": "number",
              "example": 800
            }
          },
          {
            "name": "pricePerDayMax",
            "in": "query",
            "required": false,
            "description": "Maximum daily price (TTC) filter.",
            "schema": {
              "type": "number",
              "example": 120
            }
          },
          {
            "name": "startDate",
            "in": "query",
            "required": false,
            "description": "Filter dresses created after this date (ISO 8601).",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-01-01T00:00:00.000Z"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "required": false,
            "description": "Filter dresses created before this date (ISO 8601).",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2025-12-31T23:59:59.000Z"
            }
          },
          {
            "name": "id",
            "in": "query",
            "required": false,
            "description": "Specific dress ID filter (UUID).",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93"
            }
          },
          {
            "name": "search",
            "in": "query",
            "required": false,
            "description": "Case-insensitive keyword to match against `name` or `reference`.",
            "schema": {
              "type": "string",
              "example": "590"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved dresses with detailed information.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "success",
                    "data",
                    "page",
                    "limit",
                    "total"
                  ],
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "total": {
                      "type": "integer",
                      "example": 42
                    },
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "example": 10
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string",
                            "example": "Robe √âl√©gance"
                          },
                          "reference": {
                            "type": "string",
                            "example": "RE-2025-001"
                          },
                          "price_ttc": {
                            "type": "number",
                            "example": 650
                          },
                          "price_per_day_ttc": {
                            "type": "number",
                            "example": 90
                          },
                          "type_name": {
                            "type": "string",
                            "example": "Robe de soir√©e"
                          },
                          "size_label": {
                            "type": "string",
                            "example": "M"
                          },
                          "color_name": {
                            "type": "string",
                            "example": "Rouge Bordeaux"
                          },
                          "condition_label": {
                            "type": "string",
                            "example": "Tr√®s bon √©tat"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "default": {
                    "summary": "Paginated dresses example",
                    "value": {
                      "success": true,
                      "total": 2,
                      "page": 1,
                      "limit": 10,
                      "data": [
                        {
                          "id": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93",
                          "name": "Robe √âl√©gance",
                          "reference": "RE-2025-001",
                          "price_ttc": 650,
                          "price_per_day_ttc": 90,
                          "type_name": "Robe de soir√©e",
                          "size_label": "M",
                          "color_name": "Rouge Bordeaux",
                          "condition_label": "Tr√®s bon √©tat",
                          "created_at": "2025-09-01T10:00:00.000Z"
                        },
                        {
                          "id": "d0b1b9b7-3e3f-4f8a-97b0-53ab77a5cb6d",
                          "name": "Robe Glamour",
                          "reference": "RG-2025-014",
                          "price_ttc": 720,
                          "price_per_day_ttc": 110,
                          "type_name": "Robe de c√©r√©monie",
                          "size_label": "S",
                          "color_name": "Bleu Nuit",
                          "condition_label": "Neuf",
                          "created_at": "2025-08-21T10:00:00.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to fetch dresses with details.",
            "content": {
              "application/json": {
                "examples": {
                  "error": {
                    "summary": "Database error example",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch dresses with details"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dresses/{id}/images": {
      "post": {
        "tags": [
          "Dresses"
        ],
        "summary": "Add images to an existing dress",
        "description": "Uploads and attaches up to **5 new images** to a specific dress. The images are stored on the configured S3-compatible bucket and merged with any existing images. Each image is automatically assigned a unique UUID-based key. The endpoint requires multipart/form-data and user authentication.",
        "operationId": "addDressImages",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the dress to which images will be added.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "files": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "description": "Array of image files to upload (max 5)."
                  }
                },
                "required": [
                  "files"
                ]
              },
              "examples": {
                "exampleUpload": {
                  "summary": "Example image upload",
                  "value": {
                    "files": [
                      "image1.jpg",
                      "image2.jpg"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Images successfully uploaded and attached to the dress record.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "description": "Updated dress record with all image URLs.",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "name": {
                          "type": "string",
                          "example": "Robe √âl√©gance"
                        },
                        "reference": {
                          "type": "string",
                          "example": "RE-2025-001"
                        },
                        "images": {
                          "type": "array",
                          "items": {
                            "type": "string",
                            "format": "uri"
                          },
                          "example": [
                            "https://bucket.hel1.your-objectstorage.com/a12b34cd-56ef-78gh-90ij-12345klmnop1",
                            "https://bucket.hel1.your-objectstorage.com/b23c45de-67fg-89hi-01jk-23456lmnoqr2"
                          ]
                        },
                        "updated_by": {
                          "type": "string",
                          "format": "uuid",
                          "example": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566"
                        },
                        "updated_at": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2025-10-06T20:00:00.000Z"
                        }
                      }
                    }
                  }
                },
                "examples": {
                  "successExample": {
                    "summary": "Example successful response",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93",
                        "name": "Robe √âl√©gance",
                        "reference": "RE-2025-001",
                        "images": [
                          "https://bucket.hel1.your-objectstorage.com/a12b34cd-56ef-78gh-90ij-12345klmnop1",
                          "https://bucket.hel1.your-objectstorage.com/b23c45de-67fg-89hi-01jk-23456lmnoqr2"
                        ],
                        "updated_by": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566",
                        "updated_at": "2025-10-06T20:00:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Invalid request (missing ID or files).",
            "content": {
              "application/json": {
                "examples": {
                  "missingId": {
                    "summary": "No dress ID provided",
                    "value": {
                      "success": false,
                      "error": "Dress ID is required"
                    }
                  },
                  "noFiles": {
                    "summary": "No files were uploaded",
                    "value": {
                      "success": false,
                      "error": "No files uploaded"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress not found.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Dress not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî Failed to add dress images.",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to add dress images"
                }
              }
            }
          }
        }
      }
    },
    "/dresses/{id}/images/{key}": {
      "delete": {
        "tags": [
          "Dresses"
        ],
        "summary": "Remove a specific image from a dress (legacy path)",
        "description": "Convenience route that forwards to the same logic as `/dresses/{id}/images`. Use it when you only need to delete one key without providing a request body.",
        "operationId": "removeDressImage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "UUID of the dress whose image will be deleted.",
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "f4a62e51-15cc-4d84-bd2a-8390abaf8a93"
            }
          },
          {
            "name": "key",
            "in": "path",
            "required": true,
            "description": "The S3 object key (filename) of the image to remove.",
            "schema": {
              "type": "string",
              "example": "a12b34cd-56ef-78gh-90ij-12345klmnop1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Image successfully removed from the dress and storage.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "removedKeys": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "a12b34cd-56ef-78gh-90ij-12345klmnop1"
                      ]
                    },
                    "notFoundKeys": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": []
                    },
                    "data": {
                      "type": "object",
                      "description": "Updated dress object after image removal."
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress or image not found.",
            "content": {
              "application/json": {
                "examples": {
                  "dressNotFound": {
                    "summary": "Dress not found",
                    "value": {
                      "success": false,
                      "error": "Dress not found"
                    }
                  },
                  "imageNotFound": {
                    "summary": "Image not found in dress record",
                    "value": {
                      "success": false,
                      "error": "None of the provided image keys belong to this dress"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error ‚Äî failed to delete image.",
            "content": {
              "application/json": {
                "examples": {
                  "internalError": {
                    "summary": "Server-side failure",
                    "value": {
                      "success": false,
                      "error": "Failed to remove dress image"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dress-colors": {
      "get": {
        "tags": [
          "Dresses - Colors"
        ],
        "summary": "Get all dress colors",
        "description": "Retrieves the list of all available dress colors that are not soft-deleted. The results are sorted alphabetically by name.",
        "operationId": "getDressColors",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all dress colors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DressColorListResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example success response",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "7f736acb-7b51-4d07-9c18-13dbffeaabf8",
                          "name": "Rouge Bordeaux",
                          "hex_value": "#8A0303",
                          "created_at": "2024-06-10T12:00:00Z",
                          "updated_at": null
                        },
                        {
                          "id": "c1b2d3e4-f567-8901-2345-6789abcdef01",
                          "name": "Bleu Nuit",
                          "hex_value": "#141E61",
                          "created_at": "2024-06-11T09:30:00Z",
                          "updated_at": null
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error while fetching dress colors",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Internal error example",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch colors"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dresses - Colors"
        ],
        "summary": "Create a new dress color",
        "description": "Creates a new color entry for dresses. Both `name` and `hex_code` are required fields. The color is automatically associated with the authenticated user as `created_by`.",
        "operationId": "createDressColor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDressColorRequest"
              },
              "examples": {
                "createColor": {
                  "summary": "Example request to create a color",
                  "value": {
                    "name": "Rouge Bordeaux",
                    "hex_code": "#8A0303"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Color successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDressColorResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example response",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "4f17c5b0-72b8-4b97-96d2-582c7d62b83a",
                        "name": "Rouge Bordeaux",
                        "hex_code": "#8A0303",
                        "created_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "created_at": "2025-10-09T18:45:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingFields": {
                    "summary": "Missing name or hex_code",
                    "value": {
                      "success": false,
                      "error": "Name and hex_code are required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to create color",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Unexpected Prisma or database error",
                    "value": {
                      "success": false,
                      "error": "Failed to create color"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dress-colors/{id}": {
      "put": {
        "tags": [
          "Dresses - Colors"
        ],
        "summary": "Update an existing dress color",
        "description": "Updates an existing color in the database using its unique ID. Requires authentication. You can modify the name, the hex code, or both. Automatically sets `updated_by` based on the authenticated user.",
        "operationId": "updateDressColor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
            },
            "description": "The unique identifier of the dress color to update."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDressColorRequest"
              },
              "examples": {
                "updateColor": {
                  "summary": "Example request to update a color",
                  "value": {
                    "name": "Rouge Cerise",
                    "hex_code": "#A10035"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Dress color successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDressColorResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example successful update",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "7f736acb-7b51-4d07-9c18-13dbffeaabf8",
                        "name": "Rouge Cerise",
                        "hex_code": "#A10035",
                        "updated_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "updated_at": "2025-10-09T20:00:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required color ID or invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingId": {
                    "summary": "Missing color ID",
                    "value": {
                      "success": false,
                      "error": "Color id is required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error while updating color",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Unexpected Prisma or database error",
                    "value": {
                      "success": false,
                      "error": "Failed to update color"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Dresses - Colors"
        ],
        "summary": "Soft delete a dress color",
        "description": "Marks a dress color as deleted by setting `deleted_at` and `deleted_by` fields. The color remains in the database for audit purposes but is excluded from normal queries.",
        "operationId": "softDeleteDressColor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
            },
            "description": "The unique identifier of the dress color to soft delete."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress color successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteDressColorResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example successful soft delete",
                    "value": {
                      "success": true,
                      "data": {
                        "id": "7f736acb-7b51-4d07-9c18-13dbffeaabf8",
                        "name": "Rouge Cerise",
                        "hex_code": "#A10035",
                        "deleted_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "deleted_at": "2025-10-09T21:00:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required color ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingId": {
                    "summary": "Missing ID error",
                    "value": {
                      "success": false,
                      "error": "Color id is required"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "unauthorized": {
                    "summary": "Invalid token",
                    "value": {
                      "success": false,
                      "error": "Unauthorized"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error while soft deleting color",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Unexpected database error",
                    "value": {
                      "success": false,
                      "error": "Failed to soft delete color"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Dresses - Colors"
        ],
        "summary": "Permanently delete a dress color",
        "description": "Completely removes a color entry from the database. This action is irreversible. Requires authentication and should generally be used only by admins.",
        "operationId": "hardDeleteDressColor",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid",
              "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
            },
            "description": "The unique identifier of the dress color to permanently delete."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress color successfully hard deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteDressColorResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example successful deletion",
                    "value": {
                      "success": true,
                      "message": "Color hard deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required color ID",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingId": {
                    "summary": "Missing ID error",
                    "value": {
                      "success": false,
                      "error": "Color id is required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error while deleting color",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Unexpected Prisma or database error",
                    "value": {
                      "success": false,
                      "error": "Failed to hard delete color"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dress-conditions": {
      "get": {
        "tags": [
          "Dresses - Conditions"
        ],
        "summary": "Get all dress conditions",
        "description": "Retrieves all active (non-deleted) dress conditions ordered alphabetically by name.",
        "operationId": "getDressConditions",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all dress conditions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetDressConditionsResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example response",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "3bf7f7e0-c461-4ba5-8fea-a4fd2b8eeea8",
                          "name": "Neuf",
                          "created_at": "2025-10-09T20:00:00.000Z"
                        },
                        {
                          "id": "7b83a4d0-d662-42e2-9351-f5c80cb0cc43",
                          "name": "Bon √©tat",
                          "created_at": "2025-10-08T17:00:00.000Z"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error while fetching dress conditions",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "value": {
                      "success": false,
                      "error": "Failed to fetch dress conditions"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dresses - Conditions"
        ],
        "summary": "Create a new dress condition",
        "description": "Creates a new condition entry for dresses. Requires authentication and a `name` field.",
        "operationId": "createDressCondition",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDressConditionRequest"
              },
              "examples": {
                "createCondition": {
                  "summary": "Example request",
                  "value": {
                    "name": "Tr√®s bon √©tat"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Dress condition created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDressConditionResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "success": true,
                      "data": {
                        "id": "b4b5a6a7-9c8d-4e8f-b8e7-7c6f5d4e3f2a",
                        "name": "Tr√®s bon √©tat",
                        "created_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "created_at": "2025-10-09T21:10:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing name field",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingName": {
                    "value": {
                      "success": false,
                      "error": "Name is required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal error while creating condition",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "value": {
                      "success": false,
                      "error": "Failed to create condition"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dress-conditions/{id}": {
      "put": {
        "tags": [
          "Dresses - Conditions"
        ],
        "summary": "Update a dress condition",
        "description": "Updates the name of an existing dress condition.",
        "operationId": "updateDressCondition",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The unique ID of the condition to update."
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDressConditionRequest"
              },
              "examples": {
                "updateCondition": {
                  "value": {
                    "name": "Bon √©tat g√©n√©ral"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Dress condition successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDressConditionResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "success": true,
                      "data": {
                        "id": "7b83a4d0-d662-42e2-9351-f5c80cb0cc43",
                        "name": "Bon √©tat g√©n√©ral",
                        "updated_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "updated_at": "2025-10-09T21:30:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing ID or invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "missingId": {
                    "value": {
                      "success": false,
                      "error": "ID is required"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error while updating condition",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "value": {
                      "success": false,
                      "error": "Failed to update condition"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Dresses - Conditions"
        ],
        "summary": "Soft delete a dress condition",
        "description": "Marks a dress condition as deleted by setting `deleted_at` and `deleted_by`. The record remains for audit purposes.",
        "operationId": "softDeleteDressCondition",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the condition to soft delete."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress condition soft deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteDressConditionResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "success": true,
                      "data": {
                        "id": "7b83a4d0-d662-42e2-9351-f5c80cb0cc43",
                        "name": "Bon √©tat",
                        "deleted_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                        "deleted_at": "2025-10-09T22:00:00.000Z"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Error while soft deleting dress condition",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "value": {
                      "success": false,
                      "error": "Failed to soft delete condition"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Dresses - Conditions"
        ],
        "summary": "Permanently delete a dress condition",
        "description": "Removes a dress condition entirely from the database. This action is irreversible.",
        "operationId": "hardDeleteDressCondition",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "ID of the condition to permanently delete."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress condition hard deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteDressConditionResponse"
                },
                "examples": {
                  "success": {
                    "value": {
                      "success": true,
                      "message": "Condition hard deleted"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Error while deleting dress condition",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "value": {
                      "success": false,
                      "error": "Failed to hard delete condition"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/dress-sizes": {
      "get": {
        "tags": [
          "Dresses - Sizes"
        ],
        "summary": "Get all dress sizes",
        "description": "Retrieves all available dress sizes that have not been soft-deleted. Results are ordered alphabetically by name.",
        "operationId": "getDressSizes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved dress sizes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetDressSizesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example successful response",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "5e21a1d4-3c43-4f99-9b1b-0a9f88f2e7c5",
                          "name": "S"
                        },
                        {
                          "id": "7a92b3a2-1a13-4a24-9d2d-7f2f55a4b122",
                          "name": "M"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to fetch sizes",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch dress sizes"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dresses - Sizes"
        ],
        "summary": "Create a new dress size",
        "description": "Adds a new dress size entry. The size name is required and must be unique.",
        "operationId": "createDressSize",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDressSizeRequest"
              },
              "example": {
                "name": "XL"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Dress size created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDressSizeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "4b2d3f4c-1f23-4b9a-bf12-72a35f12c99b",
                    "name": "XL"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing required name field",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Name is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to create dress size",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to create dress size"
                }
              }
            }
          }
        }
      }
    },
    "/dress-sizes/{id}": {
      "put": {
        "tags": [
          "Dresses - Sizes"
        ],
        "summary": "Update a dress size",
        "description": "Updates a dress size by its ID. The field `name` is required.",
        "operationId": "updateDressSize",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The UUID of the dress size to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDressSizeRequest"
              },
              "example": {
                "name": "L"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Dress size successfully updated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDressSizeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "b912a2d1-8f12-4a17-8d1e-8c71b9f9e3e1",
                    "name": "L"
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress size not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Dress size not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to update dress size",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to update dress size"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Dresses - Sizes"
        ],
        "summary": "Soft delete a dress size",
        "description": "Marks a dress size as deleted by setting `deleted_at` and `deleted_by`. The record remains in the database for audit purposes.",
        "operationId": "softDeleteDressSize",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The UUID of the dress size to soft delete"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress size successfully soft deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteDressSizeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "b912a2d1-8f12-4a17-8d1e-8c71b9f9e3e1",
                    "name": "S",
                    "deleted_by": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                    "deleted_at": "2025-10-10T20:00:00.000Z"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Dresses - Sizes"
        ],
        "summary": "Hard delete a dress size",
        "description": "Permanently deletes a dress size from the database. Use with caution ‚Äî this cannot be undone.",
        "operationId": "hardDeleteDressSize",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "The UUID of the dress size to permanently delete"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress size permanently deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteDressSizeResponse"
                },
                "example": {
                  "success": true,
                  "message": "Dress size permanently deleted"
                }
              }
            }
          }
        }
      }
    },
    "/dress-types": {
      "get": {
        "tags": [
          "Dresses - Types"
        ],
        "summary": "Get all dress types",
        "description": "Retrieve all dress types that are not soft deleted. Results are ordered alphabetically by name.",
        "operationId": "getDressTypes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved dress types",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetDressTypesResponse"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "5d91f8c3-4a17-4a3a-81f5-df345c65b912",
                      "name": "Robe de soir√©e",
                      "description": "Tenue de soir√©e √©l√©gante"
                    },
                    {
                      "id": "a8f61e24-69a8-423e-903f-9a93358e4e99",
                      "name": "Robe de mari√©e",
                      "description": "Robe blanche pour c√©r√©monie"
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "üí• Failed to fetch dress types",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch dress types"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dresses - Types"
        ],
        "summary": "Create a new dress type",
        "description": "Creates a new dress type. Both name and description are optional, but the name must be unique among non-deleted types.",
        "operationId": "createDressType",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDressTypeRequest"
              },
              "example": {
                "name": "Robe de cocktail",
                "description": "Robe mi-longue pour soir√©e"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Dress type created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateDressTypeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "5f6f11c2-9292-4cf7-a9aa-33cc2d3a2b22",
                    "name": "Robe de cocktail",
                    "description": "Robe mi-longue pour soir√©e"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Duplicate name or missing field",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Dress type name already exists"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to create dress type"
                }
              }
            }
          }
        }
      }
    },
    "/dress-types/{id}": {
      "put": {
        "tags": [
          "Dresses - Types"
        ],
        "summary": "Update a dress type",
        "description": "Update the name or description of a dress type by ID. Name must remain unique among active types.",
        "operationId": "updateDressType",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "UUID of the dress type to update"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDressTypeRequest"
              },
              "example": {
                "name": "Robe de gala",
                "description": "Robe longue et √©l√©gante"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Dress type updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateDressTypeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "b83b12d2-71c8-4b92-b15a-87a0aef9cda1",
                    "name": "Robe de gala",
                    "description": "Robe longue et √©l√©gante"
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Dress type not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Dress type not found"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Dresses - Types"
        ],
        "summary": "Soft delete a dress type",
        "description": "Marks a dress type as deleted without permanently removing it.",
        "operationId": "softDeleteDressType",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "UUID of the dress type to soft delete"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress type soft deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteDressTypeResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "b83b12d2-71c8-4b92-b15a-87a0aef9cda1",
                    "name": "Robe de gala",
                    "deleted_at": "2025-10-09T21:00:00Z"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Dresses - Types"
        ],
        "summary": "Hard delete a dress type",
        "description": "Permanently deletes a dress type. This action cannot be undone.",
        "operationId": "hardDeleteDressType",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "UUID of the dress type to permanently delete"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Dress type hard deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteDressTypeResponse"
                },
                "example": {
                  "success": true,
                  "message": "Dress type hard deleted",
                  "data": null
                }
              }
            }
          }
        }
      }
    },
    "/avatars": {
      "get": {
        "tags": [
          "Avatars"
        ],
        "summary": "List all uploaded avatars",
        "description": "Retrieves the list of all avatar images stored in the Hetzner Object Storage `avatar` bucket. Each item includes the file key, display name, and a public URL.",
        "operationId": "listAvatars",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved avatar list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListAvatarsResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: List of avatars",
                    "value": {
                      "success": true,
                      "files": [
                        {
                          "id": "avatar_001.png",
                          "name": "avatar_001.png",
                          "url": "https://avatar.hel1.your-objectstorage.com/avatar_001.png"
                        },
                        {
                          "id": "avatar_002.jpg",
                          "name": "avatar_002.jpg",
                          "url": "https://avatar.hel1.your-objectstorage.com/avatar_002.jpg"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to retrieve avatars",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Impossible de r√©cup√©rer les avatars"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Avatars"
        ],
        "summary": "Upload a new avatar",
        "description": "Uploads a new avatar image to the Hetzner Object Storage `avatar` bucket. The uploaded file is stored under a unique UUID key and returned with its public URL.",
        "operationId": "uploadAvatar",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Avatar image file to upload"
                  }
                },
                "required": [
                  "file"
                ]
              },
              "examples": {
                "exampleUpload": {
                  "summary": "Example file upload request",
                  "value": {
                    "file": "avatar.png"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Avatar successfully uploaded",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadAvatarResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Avatar uploaded successfully",
                    "value": {
                      "success": true,
                      "file": {
                        "id": "8d7b4a61-0b9d-4b7a-8ef8-dbdc66a6e9ef",
                        "name": "8d7b4a61-0b9d-4b7a-8ef8-dbdc66a6e9ef",
                        "url": "https://avatar.hel1.your-objectstorage.com/8d7b4a61-0b9d-4b7a-8ef8-dbdc66a6e9ef"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå No file uploaded",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "No file uploaded"
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to upload avatar",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to upload avatar"
                }
              }
            }
          }
        }
      }
    },
    "/avatars/{id}": {
      "get": {
        "tags": [
          "Avatars"
        ],
        "summary": "Get avatar by ID",
        "description": "Retrieves the metadata and public URL of a specific avatar file stored in the Hetzner Object Storage `avatar` bucket. Returns 404 if the avatar does not exist.",
        "operationId": "getAvatarById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique key (filename) of the avatar in the S3 bucket",
            "schema": {
              "type": "string",
              "example": "avatar_001.png"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Avatar found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetAvatarByIdResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Avatar found",
                    "value": {
                      "success": true,
                      "file": {
                        "id": "avatar_001.png",
                        "name": "avatar_001.png",
                        "url": "https://avatar.hel1.your-objectstorage.com/avatar_001.png"
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Avatar not found",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Avatar not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Error retrieving avatar"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Avatars"
        ],
        "summary": "Delete avatar by ID",
        "description": "Permanently deletes an avatar file from the Hetzner Object Storage `avatar` bucket using its unique key. Returns a confirmation message upon success.",
        "operationId": "deleteAvatarById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "description": "Unique key (filename) of the avatar in the S3 bucket",
            "schema": {
              "type": "string",
              "example": "avatar_001.png"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Avatar successfully deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteAvatarByIdResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: Avatar deleted successfully",
                    "value": {
                      "success": true,
                      "message": "Avatar deleted"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to delete avatar",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to delete avatar"
                }
              }
            }
          }
        }
      }
    },
    "/dress-storage": {
      "get": {
        "tags": [
          "Dress Storage"
        ],
        "summary": "List all dress images",
        "description": "Retrieves all image files stored in the Hetzner Object Storage `dresses` bucket. Each file includes its ID (key), name, and public URL.",
        "operationId": "listDressImages",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved dress images list",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListDressImagesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example: List of dress images",
                    "value": {
                      "success": true,
                      "files": [
                        {
                          "id": "dress_001.png",
                          "name": "dress_001.png",
                          "url": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/dress_001.png"
                        },
                        {
                          "id": "dress_002.jpg",
                          "name": "dress_002.jpg",
                          "url": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/dress_002.jpg"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "üîí Unauthorized - Missing or invalid token",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Unauthorized"
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error - Failed to list dress images",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Impossible de r√©cup√©rer les images",
                  "details": "InvalidAccessKeyId"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Dress Storage"
        ],
        "summary": "Upload dress images",
        "description": "Uploads up to 5 images to the Hetzner Object Storage `dresses` bucket. Each file is uploaded and returned with a generated UUID and a public URL.",
        "operationId": "uploadDressImages",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "images": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "binary"
                    },
                    "maxItems": 5,
                    "description": "Up to 5 image files to upload"
                  }
                },
                "required": [
                  "images"
                ]
              },
              "examples": {
                "uploadExample": {
                  "summary": "Example upload",
                  "value": {
                    "images": [
                      "file1.jpg",
                      "file2.png"
                    ]
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Images uploaded successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadDressImagesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example success response",
                    "value": {
                      "success": true,
                      "files": [
                        {
                          "id": "a93e3f61-97b8-4db7-8425-4e3f84758ad1",
                          "name": "file1.jpg",
                          "url": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/file1.jpg"
                        },
                        {
                          "id": "f7a1fcb8-d0ce-4f41-b8d5-8bca8c2397aa",
                          "name": "file2.png",
                          "url": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/file2.png"
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è No files uploaded",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "No files uploaded"
                }
              }
            }
          },
          "500": {
            "description": "üí• Failed to upload images",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to upload images"
                }
              }
            }
          }
        }
      }
    },
    "/dress-storage/{key}": {
      "delete": {
        "tags": [
          "Dress Storage"
        ],
        "summary": "Delete a dress image",
        "description": "Deletes a specific image from the Hetzner Object Storage `dresses` bucket using its unique key (filename). Returns a success message on completion.",
        "operationId": "deleteDressImage",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "key",
            "in": "path",
            "required": true,
            "description": "The unique key (filename) of the image to delete",
            "schema": {
              "type": "string",
              "example": "a12f45e8-dc9b-4bb7-9b12-fc4838f7b612.png"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Image deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteDressImageResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example success response",
                    "value": {
                      "success": true,
                      "message": "Image deleted"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Missing image key",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Image key is required"
                }
              }
            }
          },
          "500": {
            "description": "üí• Failed to delete image",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to delete image"
                }
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get all users",
        "description": "Retrieves all users, including their profile and associated role.",
        "operationId": "getUsers",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all users",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUsersResponse"
                },
                "example": {
                  "success": true,
                  "count": 2,
                  "data": [
                    {
                      "id": "d45bfae1-5f67-4f39-89e5-1b8e8dcb3baf",
                      "email": "admin@allure-creation.fr",
                      "profile": {
                        "firstname": "Emma",
                        "lastname": "Dupont",
                        "role": {
                          "name": "ADMIN"
                        }
                      }
                    },
                    {
                      "id": "0aabde22-f1a3-42f1-a1b4-998f456a31d1",
                      "email": "user@allure-creation.fr",
                      "profile": {
                        "firstname": "Lina",
                        "lastname": "Bernard",
                        "role": {
                          "name": "USER"
                        }
                      }
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch users"
                }
              }
            }
          }
        }
      }
    },
    "/users/{id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get one user by ID",
        "description": "Fetches a single user by UUID, including profile and role.",
        "operationId": "getUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "User ID"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ User found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetUserResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "0aabde22-f1a3-42f1-a1b4-998f456a31d1",
                    "email": "user@allure-creation.fr",
                    "profile": {
                      "firstname": "Lina",
                      "lastname": "Bernard",
                      "role": {
                        "name": "USER"
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå User not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "User not found"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update or create user profile",
        "description": "Updates a user's password and/or profile information (excluding email). If the user has no profile, a new one will be created automatically. The `role_id` field is required when updating or creating a profile.",
        "operationId": "updateUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "User ID (UUID)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "password": {
                    "type": "string",
                    "description": "New password (optional, hashed automatically)"
                  },
                  "profile": {
                    "type": "object",
                    "description": "Profile fields to update or create",
                    "required": [
                      "role_id"
                    ],
                    "properties": {
                      "firstname": {
                        "type": "string",
                        "example": "Emma"
                      },
                      "lastname": {
                        "type": "string",
                        "example": "Dupont"
                      },
                      "address": {
                        "type": "string",
                        "example": "12 Rue de Paris"
                      },
                      "city": {
                        "type": "string",
                        "example": "Lyon"
                      },
                      "country": {
                        "type": "string",
                        "example": "France"
                      },
                      "postal_code": {
                        "type": "string",
                        "example": "69000"
                      },
                      "avatar_url": {
                        "type": "string",
                        "example": "https://cdn.allure-creation.fr/avatars/emma.png"
                      },
                      "role_id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "d5f45d3a-9f20-45ea-9e9a-2b06bdb764f2"
                      }
                    }
                  }
                },
                "example": {
                  "password": "newSecurePassword123",
                  "profile": {
                    "firstName": "Emma",
                    "lastName": "Dupont",
                    "country": "France",
                    "city": "Lyon",
                    "address": "12 Rue de Paris",
                    "postal_code": "69000",
                    "role_id": "d5f45d3a-9f20-45ea-9e9a-2b06bdb764f2"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ User profile successfully updated or created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid",
                          "example": "0aabde22-f1a3-42f1-a1b4-998f456a31d1"
                        },
                        "email": {
                          "type": "string",
                          "example": "user@allure-creation.fr"
                        },
                        "profile": {
                          "type": "object",
                          "properties": {
                            "firstname": {
                              "type": "string",
                              "example": "Emma"
                            },
                            "lastname": {
                              "type": "string",
                              "example": "Dupont"
                            },
                            "country": {
                              "type": "string",
                              "example": "France"
                            },
                            "city": {
                              "type": "string",
                              "example": "Lyon"
                            },
                            "address": {
                              "type": "string",
                              "example": "12 Rue de Paris"
                            },
                            "postal_code": {
                              "type": "string",
                              "example": "69000"
                            },
                            "role": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "example": "d5f45d3a-9f20-45ea-9e9a-2b06bdb764f2"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "ADMIN"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "0aabde22-f1a3-42f1-a1b4-998f456a31d1",
                    "email": "user@allure-creation.fr",
                    "profile": {
                      "firstName": "Emma",
                      "lastName": "Dupont",
                      "country": "France",
                      "city": "Lyon",
                      "address": "12 Rue de Paris",
                      "postal_code": "69000",
                      "role": {
                        "name": "ADMIN"
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ùå Invalid request (missing required fields)",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "role_id is required for profile updates"
                }
              }
            }
          },
          "500": {
            "description": "‚ùå Server error",
            "content": {
              "application/json": {
                "example": {
                  "success": false,
                  "error": "Failed to update user"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Users"
        ],
        "summary": "Soft delete a user",
        "description": "Marks a user and their profile as deleted (sets deleted_at and deleted_by).",
        "operationId": "softDeleteUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ User soft deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteUserResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "0aabde22-f1a3-42f1-a1b4-998f456a31d1",
                    "deleted_at": "2025-10-09T21:00:00.000Z"
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Hard delete a user",
        "description": "Permanently deletes a user and their profile from the database.",
        "operationId": "hardDeleteUser",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ User hard deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteUserResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "message": "User permanently deleted"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/profiles": {
      "get": {
        "tags": [
          "Profiles"
        ],
        "summary": "Get all profiles",
        "description": "Retrieves all user profiles from the database, including related information if any.",
        "operationId": "getProfiles",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all profiles",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetProfilesResponse"
                },
                "example": {
                  "success": true,
                  "data": [
                    {
                      "id": "ba0a9b52-d0e9-4b9c-b8b8-4d6b229f5c56",
                      "firstname": "Emma",
                      "lastname": "Dupont",
                      "email": "emma.dupont@email.fr",
                      "phone": "+33611223344",
                      "role_id": "3b2b6ad7-5b42-4b15-82b8-1f23e02c85a1"
                    },
                    {
                      "id": "24d1a66b-11f5-4ac5-8338-94ac8737ef24",
                      "firstname": "Lucas",
                      "lastname": "Martin",
                      "email": "lucas.martin@email.fr",
                      "phone": "+33655667788",
                      "role_id": "2c0e53b9-77e0-4af7-9371-57e7cd3e44ac"
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "üí• Internal server error while fetching profiles",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch profiles"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Profiles"
        ],
        "summary": "Create a new profile",
        "description": "Creates a new user profile in the database.",
        "operationId": "createProfile",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateProfileRequest"
              },
              "example": {
                "firstname": "Emma",
                "lastname": "Dupont",
                "email": "emma.dupont@email.fr",
                "phone": "+33611223344",
                "role_id": "3b2b6ad7-5b42-4b15-82b8-1f23e02c85a1",
                "userId": "5af42e7c-721e-4cb2-902e-3d8e705a02f7"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Profile successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateProfileResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "f4b3216e-0de4-4d1c-89b2-91e2c5d2bb25",
                    "firstname": "Emma",
                    "lastname": "Dupont",
                    "email": "emma.dupont@email.fr",
                    "phone": "+33611223344",
                    "role_id": "3b2b6ad7-5b42-4b15-82b8-1f23e02c85a1",
                    "userId": "5af42e7c-721e-4cb2-902e-3d8e705a02f7"
                  }
                }
              }
            }
          },
          "400": {
            "description": "‚ö†Ô∏è Validation or creation error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Invalid email format"
                }
              }
            }
          }
        }
      }
    },
    "/customers": {
      "get": {
        "tags": [
          "Customers"
        ],
        "summary": "Get all customers",
        "description": "Retrieves a paginated list of customers. Supports search and pagination via query parameters.",
        "operationId": "getCustomers",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "search",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            },
            "description": "Search term (applies to firstname, lastname, email, phone)."
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1
            },
            "description": "Page number (for pagination)."
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20
            },
            "description": "Number of results per page."
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Customers successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetCustomersResponse"
                },
                "example": {
                  "success": true,
                  "page": 1,
                  "limit": 20,
                  "total": 125,
                  "data": [
                    {
                      "id": "f93d3b8c-9b1e-41b5-83df-1dcdacb9c324",
                      "firstname": "Emma",
                      "lastname": "Dupont",
                      "email": "emma.dupont@email.fr",
                      "phone": "+33612345678",
                      "city": "Paris",
                      "country": "France",
                      "created_at": "2025-10-10T10:00:00.000Z"
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error fetching customers",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch customers"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Customers"
        ],
        "summary": "Create a new customer",
        "description": "Creates a new customer record.",
        "operationId": "createCustomer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerRequest"
              },
              "example": {
                "firstname": "Emma",
                "lastname": "Dupont",
                "email": "emma.dupont@email.fr",
                "phone": "+33612345678",
                "country": "France",
                "city": "Paris",
                "address": "10 Rue de Rivoli",
                "postal_code": "75001"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "‚úÖ Customer successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCustomerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/customers/{id}": {
      "get": {
        "tags": [
          "Customers"
        ],
        "summary": "Get customer by ID",
        "description": "Retrieves one customer by its unique identifier.",
        "operationId": "getCustomerById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Customer ID"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Customer retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetCustomerByIdResponse"
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Customer not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Customers"
        ],
        "summary": "Update customer details",
        "description": "Updates an existing customer‚Äôs information.",
        "operationId": "updateCustomer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomerRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "‚úÖ Customer updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateCustomerResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Customers"
        ],
        "summary": "Soft delete a customer",
        "description": "Marks a customer as deleted by setting deleted_at and deleted_by.",
        "operationId": "softDeleteCustomer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Customer soft deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SoftDeleteCustomerResponse"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Customers"
        ],
        "summary": "Hard delete a customer",
        "description": "Permanently deletes a customer from the database.",
        "operationId": "hardDeleteCustomer",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Customer hard deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HardDeleteCustomerResponse"
                }
              }
            }
          }
        }
      }
    },
    "/roles": {
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "Get all roles",
        "description": "Retrieves the list of active roles (non supprim√©s) tri√©s par nom croissant.",
        "operationId": "getRoles",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Successfully retrieved all roles",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetRolesResponse"
                },
                "examples": {
                  "success": {
                    "summary": "Example success response",
                    "value": {
                      "success": true,
                      "data": [
                        {
                          "id": "84a1d6a4-77c6-4a2b-9c10-4d49a1abc123",
                          "name": "ADMIN",
                          "description": "Administrateur avec acc√®s complet",
                          "created_at": "2024-01-15T08:30:00Z",
                          "created_by": "system",
                          "updated_at": "2024-03-02T10:00:00Z",
                          "updated_by": "super.admin@allure-creation.fr"
                        },
                        {
                          "id": "6f9dd9bb-4f1c-46bf-8db8-905a1bbf0c11",
                          "name": "MANAGER",
                          "description": "Gestion des √©quipes et des √©v√©nements",
                          "created_at": "2024-02-01T11:20:00Z",
                          "created_by": "super.admin@allure-creation.fr",
                          "updated_at": null,
                          "updated_by": null
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error while fetching roles",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleErrorResponse"
                },
                "examples": {
                  "serverError": {
                    "summary": "Internal error example",
                    "value": {
                      "success": false,
                      "error": "Failed to fetch roles"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/roles/{id}": {
      "get": {
        "tags": [
          "Roles"
        ],
        "summary": "Get role by ID",
        "description": "Fetches a single role by UUID. Utilis√© pour afficher les droits d'un utilisateur pr√©cis.",
        "operationId": "getRoleById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "description": "Role ID"
          }
        ],
        "responses": {
          "200": {
            "description": "‚úÖ Role found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/GetRoleByIdResponse"
                },
                "example": {
                  "success": true,
                  "data": {
                    "id": "6f9dd9bb-4f1c-46bf-8db8-905a1bbf0c11",
                    "name": "MANAGER",
                    "description": "Gestion des √©quipes et des √©v√©nements",
                    "created_at": "2024-02-01T11:20:00Z",
                    "created_by": "super.admin@allure-creation.fr",
                    "updated_at": null,
                    "updated_by": null
                  }
                }
              }
            }
          },
          "404": {
            "description": "‚ùå Role not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Role not found"
                }
              }
            }
          },
          "500": {
            "description": "üí• Server error while fetching role",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RoleErrorResponse"
                },
                "example": {
                  "success": false,
                  "error": "Failed to fetch role"
                }
              }
            }
          }
        }
      }
    },
    "/mails/mailboxes": {
      "get": {
        "tags": [
          "Mail"
        ],
        "summary": "Liste toutes les bo√Ætes mail disponibles",
        "description": "R√©cup√®re la liste de toutes les bo√Ætes mail disponibles avec leur nombre de messages",
        "operationId": "getMailboxes",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des bo√Ætes mail r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "INBOX"
                          },
                          "displayName": {
                            "type": "string",
                            "example": "Bo√Æte de r√©ception"
                          },
                          "total": {
                            "type": "number",
                            "example": 150
                          },
                          "new": {
                            "type": "number",
                            "example": 5
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/folders": {
      "get": {
        "tags": [
          "Mail"
        ],
        "summary": "Liste tous les dossiers IMAP",
        "description": "R√©cup√®re tous les dossiers disponibles sur la bo√Æte mail (format plat)",
        "operationId": "listMailFolders",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dossiers r√©cup√©r√©s avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string",
                            "example": "INBOX/Clients"
                          },
                          "selectable": {
                            "type": "boolean",
                            "example": true
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      },
      "post": {
        "tags": [
          "Mail"
        ],
        "summary": "Cr√©e un nouveau dossier IMAP",
        "description": "Cr√©e un dossier (ou sous-dossier) sur la bo√Æte mail. Fournir le chemin complet si n√©cessaire (ex: \"INBOX/Clients\").",
        "operationId": "createMailFolder",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "name"
                ],
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Nom ou chemin complet du dossier √† cr√©er",
                    "example": "INBOX/Clients"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Dossier cr√©√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Dossier cr√©√© avec succ√®s"
                    },
                    "name": {
                      "type": "string",
                      "example": "INBOX/Clients"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Requ√™te invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}": {
      "get": {
        "tags": [
          "Mail"
        ],
        "summary": "R√©cup√®re les emails d'une bo√Æte mail",
        "description": "Liste les emails d'une bo√Æte mail sp√©cifique (INBOX, Sent, Trash, Spam) avec pagination",
        "operationId": "getMailsFromMailbox",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ]
            },
            "description": "Type de bo√Æte mail (insensible √† la casse)"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "minimum": 1,
              "maximum": 100
            },
            "description": "Nombre d'emails √† r√©cup√©rer"
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "minimum": 0
            },
            "description": "Offset pour la pagination"
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des emails r√©cup√©r√©e avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/EmailMessage"
                      }
                    },
                    "pagination": {
                      "type": "object",
                      "properties": {
                        "limit": {
                          "type": "number",
                          "example": 50
                        },
                        "offset": {
                          "type": "number",
                          "example": 0
                        },
                        "count": {
                          "type": "number",
                          "example": 25
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Type de bo√Æte mail invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}": {
      "delete": {
        "tags": [
          "Mail"
        ],
        "summary": "Supprime un email (d√©place vers la corbeille)",
        "description": "D√©place un email vers la corbeille. L'email peut √™tre restaur√© ult√©rieurement.",
        "operationId": "deleteMail",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ]
            },
            "description": "Type de bo√Æte mail"
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "UID de l'email √† supprimer"
          }
        ],
        "responses": {
          "200": {
            "description": "Email d√©plac√© vers la corbeille",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email d√©plac√© vers la corbeille"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "UID invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/permanent": {
      "delete": {
        "tags": [
          "Mail"
        ],
        "summary": "Supprime d√©finitivement un email",
        "description": "Supprime d√©finitivement un email. Cette action est irr√©versible.",
        "operationId": "permanentlyDeleteMail",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ]
            },
            "description": "Type de bo√Æte mail"
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "UID de l'email √† supprimer d√©finitivement"
          }
        ],
        "responses": {
          "200": {
            "description": "Email supprim√© d√©finitivement",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email supprim√© d√©finitivement"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "UID invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/read": {
      "patch": {
        "tags": [
          "Mail"
        ],
        "summary": "Marque un email comme lu",
        "description": "Marque un email comme lu en ajoutant le flag \\Seen",
        "operationId": "markMailAsRead",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ]
            },
            "description": "Type de bo√Æte mail"
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "UID de l'email"
          }
        ],
        "responses": {
          "200": {
            "description": "Email marqu√© comme lu",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email marqu√© comme lu"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "UID invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/unread": {
      "patch": {
        "tags": [
          "Mail"
        ],
        "summary": "Marque un email comme non lu",
        "description": "Marque un email comme non lu en retirant le flag \\Seen",
        "operationId": "markMailAsUnread",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ]
            },
            "description": "Type de bo√Æte mail"
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer"
            },
            "description": "UID de l'email"
          }
        ],
        "responses": {
          "200": {
            "description": "Email marqu√© comme non lu",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email marqu√© comme non lu"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "UID invalide"
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/send": {
      "post": {
        "tags": [
          "Mail"
        ],
        "summary": "Envoie un email",
        "description": "Envoie un nouvel email via SMTP",
        "operationId": "sendMail",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "to",
                  "subject"
                ],
                "properties": {
                  "to": {
                    "oneOf": [
                      {
                        "type": "string",
                        "format": "email"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "format": "email"
                        }
                      }
                    ],
                    "description": "Destinataire(s) de l'email",
                    "example": "destinataire@example.com"
                  },
                  "cc": {
                    "oneOf": [
                      {
                        "type": "string",
                        "format": "email"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "format": "email"
                        }
                      }
                    ],
                    "description": "Destinataire(s) en copie",
                    "example": [
                      "copie@example.com"
                    ]
                  },
                  "bcc": {
                    "oneOf": [
                      {
                        "type": "string",
                        "format": "email"
                      },
                      {
                        "type": "array",
                        "items": {
                          "type": "string",
                          "format": "email"
                        }
                      }
                    ],
                    "description": "Destinataire(s) en copie cach√©e",
                    "example": [
                      "copie-cachee@example.com"
                    ]
                  },
                  "subject": {
                    "type": "string",
                    "description": "Sujet de l'email",
                    "example": "Confirmation de r√©servation"
                  },
                  "html": {
                    "type": "string",
                    "description": "Corps de l'email en HTML",
                    "example": "<h1>Bonjour</h1><p>Votre r√©servation est confirm√©e.</p>"
                  },
                  "text": {
                    "type": "string",
                    "description": "Corps de l'email en texte brut",
                    "example": "Bonjour, Votre r√©servation est confirm√©e."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email envoy√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email envoy√© avec succ√®s"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Donn√©es invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Les champs 'to' et 'subject' sont requis"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non autoris√©"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/flag/add": {
      "patch": {
        "summary": "Ajouter un flag √† un email",
        "description": "Ajoute un flag IMAP √† un email sp√©cifique. Les flags standards sont : \\Seen (lu), \\Answered (r√©pondu), \\Flagged (important), \\Deleted (supprim√©), \\Draft (brouillon).",
        "tags": [
          "Mails"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "description": "Type de bo√Æte mail",
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ],
              "example": "inbox"
            }
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "UID de l'email",
            "schema": {
              "type": "integer",
              "example": 123
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "flag"
                ],
                "properties": {
                  "flag": {
                    "type": "string",
                    "description": "Flag IMAP √† ajouter",
                    "enum": [
                      "\\Seen",
                      "\\Answered",
                      "\\Flagged",
                      "\\Deleted",
                      "\\Draft"
                    ],
                    "example": "\\Flagged"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Flag ajout√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Flag \\Flagged ajout√© avec succ√®s"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Param√®tres invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Flag requis (ex: \\Flagged, \\Answered)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non authentifi√©"
          },
          "500": {
            "description": "Erreur serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur lors de l'ajout du flag"
                    },
                    "details": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/flag/remove": {
      "patch": {
        "summary": "Retirer un flag d'un email",
        "description": "Retire un flag IMAP d'un email sp√©cifique. Les flags standards sont : \\Seen (lu), \\Answered (r√©pondu), \\Flagged (important), \\Deleted (supprim√©), \\Draft (brouillon).",
        "tags": [
          "Mails"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "description": "Type de bo√Æte mail",
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ],
              "example": "inbox"
            }
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "UID de l'email",
            "schema": {
              "type": "integer",
              "example": 123
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "flag"
                ],
                "properties": {
                  "flag": {
                    "type": "string",
                    "description": "Flag IMAP √† retirer",
                    "enum": [
                      "\\Seen",
                      "\\Answered",
                      "\\Flagged",
                      "\\Deleted",
                      "\\Draft"
                    ],
                    "example": "\\Flagged"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Flag retir√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Flag \\Flagged retir√© avec succ√®s"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Param√®tres invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Flag requis (ex: \\Flagged, \\Answered)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non authentifi√©"
          },
          "500": {
            "description": "Erreur serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur lors du retrait du flag"
                    },
                    "details": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/mails/{mailbox}/{uid}/move": {
      "patch": {
        "summary": "D√©placer un email vers un autre dossier",
        "description": "D√©place un email d'une bo√Æte mail vers une autre (ex: de Inbox vers Spam, ou de Trash vers Inbox).",
        "tags": [
          "Mails"
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "mailbox",
            "in": "path",
            "required": true,
            "description": "Type de bo√Æte mail source",
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ],
              "example": "inbox"
            }
          },
          {
            "name": "uid",
            "in": "path",
            "required": true,
            "description": "UID de l'email √† d√©placer",
            "schema": {
              "type": "integer",
              "example": 123
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "toMailbox"
                ],
                "properties": {
                  "toMailbox": {
                    "type": "string",
                    "description": "Bo√Æte mail de destination",
                    "enum": [
                      "inbox",
                      "sent",
                      "trash",
                      "spam",
                      "drafts"
                    ],
                    "example": "spam"
                  }
                }
              },
              "examples": {
                "moveToSpam": {
                  "summary": "D√©placer vers spam",
                  "value": {
                    "toMailbox": "spam"
                  }
                },
                "moveToInbox": {
                  "summary": "Restaurer vers inbox",
                  "value": {
                    "toMailbox": "inbox"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Email d√©plac√© avec succ√®s",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "message": {
                      "type": "string",
                      "example": "Email d√©plac√© de INBOX vers Spam"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Param√®tres invalides",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Bo√Æte mail de destination requise (toMailbox)"
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Non authentifi√©"
          },
          "500": {
            "description": "Erreur serveur",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": false
                    },
                    "error": {
                      "type": "string",
                      "example": "Erreur lors du d√©placement de l'email"
                    },
                    "details": {
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/emails/{emailId}/attachments/{index}": {
      "get": {
        "tags": [
          "Mail"
        ],
        "summary": "T√©l√©charge une pi√®ce jointe par emailId",
        "description": "Retourne une pi√®ce jointe sous forme binaire √† partir d'un UID IMAP (emailId) et de son index.",
        "operationId": "downloadAttachmentByEmailId",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "emailId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "example": 123
            },
            "description": "UID IMAP de l'email renvoy√© dans les listes"
          },
          {
            "name": "index",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "example": 0
            },
            "description": "Index de la pi√®ce jointe (0 = premi√®re PJ)"
          },
          {
            "name": "mailbox",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "enum": [
                "inbox",
                "sent",
                "trash",
                "spam",
                "drafts"
              ],
              "example": "inbox"
            },
            "description": "Bo√Æte mail o√π se trouve l'email"
          }
        ],
        "responses": {
          "200": {
            "description": "Pi√®ce jointe t√©l√©charg√©e",
            "content": {
              "application/octet-stream": {
                "schema": {
                  "type": "string",
                  "format": "binary"
                }
              }
            }
          },
          "400": {
            "description": "Param√®tres manquants ou invalides"
          },
          "404": {
            "description": "Pi√®ce jointe introuvable"
          },
          "500": {
            "description": "Erreur serveur"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "/auth/register": {
        "post": {
          "tags": [
            "Auth"
          ],
          "summary": "Register a new user (Admin-only)",
          "description": "Creates a new user account and associated profile. This endpoint can only be called by an **authenticated admin** or user with appropriate permissions. The password is securely hashed with bcrypt before storage. If the email already exists, a 400 error is returned.",
          "operationId": "registerUser",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "email",
                    "password",
                    "roleName"
                  ],
                  "properties": {
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "emma.dupont@example.com",
                      "description": "Email address of the new user. Must be unique."
                    },
                    "password": {
                      "type": "string",
                      "format": "password",
                      "example": "StrongPass!2025",
                      "description": "Plain-text password. It will be hashed before being stored."
                    },
                    "roleName": {
                      "type": "string",
                      "example": "ADMIN",
                      "description": "Name of the role to assign (must exist in `roles` table)."
                    },
                    "firstName": {
                      "type": "string",
                      "example": "Emma",
                      "description": "Optional. First name of the new user."
                    },
                    "lastName": {
                      "type": "string",
                      "example": "Dupont",
                      "description": "Optional. Last name of the new user."
                    }
                  }
                },
                "examples": {
                  "basicExample": {
                    "summary": "Register a new user",
                    "value": {
                      "email": "emma.dupont@example.com",
                      "password": "StrongPass!2025",
                      "roleName": "MANAGER",
                      "firstName": "Emma",
                      "lastName": "Dupont"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "201": {
              "description": "‚úÖ User successfully created",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "required": [
                      "id",
                      "email",
                      "role",
                      "profile"
                    ],
                    "properties": {
                      "id": {
                        "type": "string",
                        "format": "uuid",
                        "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
                      },
                      "email": {
                        "type": "string",
                        "format": "email",
                        "example": "emma.dupont@example.com"
                      },
                      "role": {
                        "type": "string",
                        "example": "MANAGER"
                      },
                      "profile": {
                        "type": "object",
                        "description": "Associated profile record created automatically",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "987e6543-e21b-12d3-a456-426614174999"
                          },
                          "role_id": {
                            "type": "string",
                            "format": "uuid",
                            "example": "123e4567-e89b-12d3-a456-426614174000"
                          },
                          "firstName": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "example": "Emma"
                          },
                          "lastName": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "example": "Dupont"
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-10-09T18:30:00.000Z"
                          },
                          "created_by": {
                            "type": "string",
                            "format": "uuid",
                            "example": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566"
                          }
                        }
                      }
                    }
                  },
                  "examples": {
                    "successExample": {
                      "summary": "User successfully registered",
                      "value": {
                        "id": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                        "email": "emma.dupont@example.com",
                        "role": "MANAGER",
                        "profile": {
                          "id": "987e6543-e21b-12d3-a456-426614174999",
                          "role_id": "123e4567-e89b-12d3-a456-426614174000",
                          "firstName": "Emma",
                          "lastName": "Dupont",
                          "created_at": "2025-10-09T18:30:00.000Z",
                          "created_by": "7d8e9f10-11aa-12bb-13cc-14ddeeff5566"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "‚ö†Ô∏è Invalid input or duplicate user",
              "content": {
                "application/json": {
                  "examples": {
                    "missingFields": {
                      "summary": "Missing required fields",
                      "value": {
                        "error": "Missing email or password"
                      }
                    },
                    "duplicateUser": {
                      "summary": "Email already exists",
                      "value": {
                        "error": "User with this email already exists"
                      }
                    },
                    "roleNotFound": {
                      "summary": "Invalid role name",
                      "value": {
                        "error": "Role not found"
                      }
                    }
                  }
                }
              }
            },
            "401": {
              "description": "üîí Unauthorized ‚Äî Only authenticated users can create accounts",
              "content": {
                "application/json": {
                  "example": {
                    "error": "Unauthorized: only authenticated users can create accounts"
                  }
                }
              }
            },
            "500": {
              "description": "üí• Internal server error ‚Äî Failed to register user",
              "content": {
                "application/json": {
                  "example": {
                    "error": "Internal Server Error"
                  }
                }
              }
            }
          }
        }
      },
      "/auth/login": {
        "post": {
          "tags": [
            "Auth"
          ],
          "summary": "Authenticate user and issue JWT",
          "description": "Authenticates a user using their email and password. If credentials are valid, a signed JWT is returned (valid for 6 hours). The user's last login timestamp (`last_signin_at`) is updated automatically. The response also includes the user ID, email, and role.",
          "operationId": "loginUser",
          "requestBody": {
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": [
                    "email",
                    "password"
                  ],
                  "properties": {
                    "email": {
                      "type": "string",
                      "format": "email",
                      "example": "emma.dupont@example.com",
                      "description": "User's email address used for authentication."
                    },
                    "password": {
                      "type": "string",
                      "format": "password",
                      "example": "StrongPass!2025",
                      "description": "User's plaintext password. It will be verified against the hashed password stored in database."
                    }
                  }
                },
                "examples": {
                  "validCredentials": {
                    "summary": "Valid credentials",
                    "value": {
                      "email": "emma.dupont@example.com",
                      "password": "StrongPass!2025"
                    }
                  },
                  "invalidCredentials": {
                    "summary": "Invalid password",
                    "value": {
                      "email": "emma.dupont@example.com",
                      "password": "wrongPassword123"
                    }
                  }
                }
              }
            }
          },
          "responses": {
            "200": {
              "description": "‚úÖ User successfully authenticated",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "required": [
                      "token",
                      "id",
                      "email",
                      "role"
                    ],
                    "properties": {
                      "token": {
                        "type": "string",
                        "description": "JWT access token valid for 6 hours",
                        "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
                      },
                      "id": {
                        "type": "string",
                        "format": "uuid",
                        "description": "Unique identifier of the authenticated user",
                        "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
                      },
                      "email": {
                        "type": "string",
                        "format": "email",
                        "example": "emma.dupont@example.com"
                      },
                      "role": {
                        "type": [
                          "string",
                          "null"
                        ],
                        "example": "ADMIN",
                        "description": "User's assigned role name (may be null if no role is associated)"
                      }
                    }
                  },
                  "examples": {
                    "success": {
                      "summary": "Successful login response",
                      "value": {
                        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
                        "id": "1a2b3c4d-5e6f-7890-abcd-ef1234567890",
                        "email": "emma.dupont@example.com",
                        "role": "ADMIN"
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "‚ö†Ô∏è Invalid request format or unexpected error",
              "content": {
                "application/json": {
                  "example": {
                    "error": "Invalid request body"
                  }
                }
              }
            },
            "401": {
              "description": "üîí Authentication failed",
              "content": {
                "application/json": {
                  "examples": {
                    "userNotFound": {
                      "summary": "Email not registered",
                      "value": {
                        "error": "User not found"
                      }
                    },
                    "invalidPassword": {
                      "summary": "Incorrect password",
                      "value": {
                        "error": "Invalid password"
                      }
                    }
                  }
                }
              }
            },
            "500": {
              "description": "üí• Internal server error ‚Äî Failed to process login",
              "content": {
                "application/json": {
                  "example": {
                    "error": "Internal Server Error"
                  }
                }
              }
            }
          }
        }
      },
      "AuthMeResponse": {
        "type": "object",
        "required": [
          "token",
          "id",
          "email",
          "role",
          "profile"
        ],
        "properties": {
          "token": {
            "type": "string",
            "description": "A newly generated JWT token valid for 6 hours.",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier of the authenticated user.",
            "example": "a7c1b2e3-4d5f-6789-abcd-ef0123456789"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email address of the authenticated user.",
            "example": "emma.dupont@example.com"
          },
          "role": {
            "type": [
              "string",
              "null"
            ],
            "description": "Name of the user‚Äôs assigned role (can be null).",
            "example": "ADMIN"
          },
          "profile": {
            "type": "object",
            "description": "Profile details associated with the authenticated user.",
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "Unique identifier of the user‚Äôs profile.",
                "example": "cdef1234-5678-90ab-cdef-1234567890ab"
              },
              "firstName": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "User‚Äôs first name (nullable).",
                "example": "Emma"
              },
              "lastName": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "User‚Äôs last name (nullable).",
                "example": "Dupont"
              },
              "role": {
                "type": "object",
                "description": "Role details associated with the profile.",
                "properties": {
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "r1a2b3c4-5d6e-789f-0123-456789abcdef"
                  },
                  "name": {
                    "type": "string",
                    "description": "Role name assigned to this profile.",
                    "example": "ADMIN"
                  }
                }
              }
            }
          }
        },
        "example": {
          "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "id": "a7c1b2e3-4d5f-6789-abcd-ef0123456789",
          "email": "emma.dupont@example.com",
          "role": "ADMIN",
          "profile": {
            "id": "cdef1234-5678-90ab-cdef-1234567890ab",
            "firstName": "Emma",
            "lastName": "Dupont",
            "role": {
              "id": "r1a2b3c4-5d6e-789f-0123-456789abcdef",
              "name": "ADMIN"
            }
          }
        }
      },
      "AuthMeErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "example": "Unauthorized"
          }
        }
      },
      "AuthRefreshResponse": {
        "type": "object",
        "required": [
          "token",
          "id",
          "email",
          "role",
          "profile"
        ],
        "properties": {
          "token": {
            "type": "string",
            "description": "A new JWT token valid for 6 hours.",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Unique identifier of the authenticated user.",
            "example": "a7c1b2e3-4d5f-6789-abcd-ef0123456789"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "Email of the authenticated user.",
            "example": "emma.dupont@example.com"
          },
          "role": {
            "type": [
              "string",
              "null"
            ],
            "description": "User‚Äôs assigned role (can be null).",
            "example": "ADMIN"
          },
          "profile": {
            "type": "object",
            "description": "Profile information of the user.",
            "required": [
              "id"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "cdef1234-5678-90ab-cdef-1234567890ab"
              },
              "firstName": {
                "type": [
                  "string",
                  "null"
                ],
                "example": "Emma"
              },
              "lastName": {
                "type": [
                  "string",
                  "null"
                ],
                "example": "Dupont"
              },
              "role": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "format": "uuid",
                    "example": "r1a2b3c4-5d6e-789f-0123-456789abcdef"
                  },
                  "name": {
                    "type": "string",
                    "example": "ADMIN"
                  }
                }
              }
            }
          }
        },
        "example": {
          "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
          "id": "a7c1b2e3-4d5f-6789-abcd-ef0123456789",
          "email": "emma.dupont@example.com",
          "role": "ADMIN",
          "profile": {
            "id": "cdef1234-5678-90ab-cdef-1234567890ab",
            "firstName": "Emma",
            "lastName": "Dupont",
            "role": {
              "id": "r1a2b3c4-5d6e-789f-0123-456789abcdef",
              "name": "ADMIN"
            }
          }
        }
      },
      "AuthRefreshErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string",
            "example": "Unauthorized"
          }
        }
      },
      "openapi": "3.0.0",
      "info": {
        "title": "Contracts API",
        "version": "1.0.0",
        "description": "API for retrieving contracts"
      },
      "paths": {
        "/contracts": {
          "get": {
            "summary": "Retrieve a list of contracts",
            "description": "Returns a list of contracts with detailed information.",
            "responses": {
              "200": {
                "description": "A list of contracts",
                "content": {
                  "application/json": {
                    "schema": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Contract"
                      }
                    }
                  }
                }
              },
              "400": {
                "description": "Invalid request"
              },
              "500": {
                "description": "Internal server error"
              }
            }
          }
        }
      },
      "components": {
        "schemas": {
          "Contract": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique identifier for the contract"
              },
              "title": {
                "type": "string",
                "description": "Title of the contract"
              },
              "startDate": {
                "type": "string",
                "format": "date",
                "description": "Start date of the contract"
              },
              "endDate": {
                "type": "string",
                "format": "date",
                "description": "End date of the contract"
              },
              "status": {
                "type": "string",
                "enum": [
                  "active",
                  "pending",
                  "terminated"
                ],
                "description": "Current status of the contract"
              },
              "parties": {
                "type": "array",
                "items": {
                  "type": "string"
                },
                "description": "List of parties involved in the contract"
              }
            },
            "required": [
              "id",
              "title",
              "startDate",
              "status"
            ]
          }
        }
      },
      "type": "object",
      "properties": {
        "data": {
          "type": "string",
          "description": "Data to be signed"
        },
        "privateKey": {
          "type": "string",
          "description": "Private key used for signing"
        }
      },
      "required": [
        "data",
        "privateKey"
      ],
      "post": {
        "summary": "Create a new contract",
        "description": "Endpoint to create a new contract in the system.",
        "tags": [
          "Contracts"
        ],
        "requestBody": {
          "description": "Contract object that needs to be added",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": [
                  "title",
                  "startDate",
                  "endDate",
                  "parties",
                  "terms"
                ],
                "properties": {
                  "title": {
                    "type": "string",
                    "description": "Title of the contract",
                    "example": "Service Agreement"
                  },
                  "startDate": {
                    "type": "string",
                    "format": "date",
                    "description": "Start date of the contract",
                    "example": "2024-01-01"
                  },
                  "endDate": {
                    "type": "string",
                    "format": "date",
                    "description": "End date of the contract",
                    "example": "2024-12-31"
                  },
                  "parties": {
                    "type": "array",
                    "description": "List of parties involved in the contract",
                    "items": {
                      "type": "object",
                      "required": [
                        "name",
                        "role"
                      ],
                      "properties": {
                        "name": {
                          "type": "string",
                          "description": "Name of the party",
                          "example": "Acme Corp"
                        },
                        "role": {
                          "type": "string",
                          "description": "Role of the party in the contract",
                          "example": "Client"
                        }
                      }
                    }
                  },
                  "terms": {
                    "type": "string",
                    "description": "Terms and conditions of the contract",
                    "example": "The service provider agrees to..."
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Additional metadata for the contract",
                    "properties": {
                      "createdBy": {
                        "type": "string",
                        "description": "User who created the contract",
                        "example": "jdoe"
                      },
                      "priority": {
                        "type": "string",
                        "description": "Priority level of the contract",
                        "enum": [
                          "low",
                          "medium",
                          "high"
                        ],
                        "example": "high"
                      }
                    }
                  }
                }
              },
              "examples": {
                "contract": {
                  "summary": "Example contract creation payload",
                  "value": {
                    "title": "Service Agreement",
                    "startDate": "2024-01-01",
                    "endDate": "2024-12-31",
                    "parties": [
                      {
                        "name": "Acme Corp",
                        "role": "Client"
                      },
                      {
                        "name": "Beta Services",
                        "role": "Provider"
                      }
                    ],
                    "terms": "The service provider agrees to deliver the services as specified...",
                    "metadata": {
                      "createdBy": "jdoe",
                      "priority": "high"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Contract created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "description": "Unique identifier for the created contract",
                      "example": "c1234567890abcdef"
                    },
                    "message": {
                      "type": "string",
                      "example": "Contract created successfully"
                    }
                  }
                },
                "examples": {
                  "success": {
                    "summary": "Successful contract creation response",
                    "value": {
                      "id": "c1234567890abcdef",
                      "message": "Contract created successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid contract data"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "UpdateContractRequest": {
        "type": "object",
        "description": "Payload for updating a contract. Only include the fields that need to be changed. Dates must be valid ISO-8601 strings.",
        "properties": {
          "status": {
            "type": "string",
            "description": "Contract status",
            "enum": [
              "DRAFT",
              "PENDING_SIGNATURE",
              "SIGNED",
              "CANCELLED",
              "EXPIRED"
            ],
            "example": "SIGNED"
          },
          "start_datetime": {
            "type": "string",
            "format": "date-time",
            "description": "New contract start date and time",
            "example": "2025-10-12T10:00:00.000Z"
          },
          "end_datetime": {
            "type": "string",
            "format": "date-time",
            "description": "New contract end date and time",
            "example": "2025-10-14T18:00:00.000Z"
          },
          "deposit_payment_method": {
            "type": "string",
            "description": "Payment method used for the deposit",
            "enum": [
              "cash",
              "card",
              "transfer"
            ],
            "example": "cash"
          },
          "account_ht": {
            "type": "number",
            "format": "float",
            "description": "Deposit amount excluding taxes",
            "example": 400
          },
          "account_ttc": {
            "type": "number",
            "format": "float",
            "description": "Deposit amount including taxes",
            "example": 480
          },
          "caution_ht": {
            "type": "number",
            "format": "float",
            "description": "Security deposit excluding taxes",
            "example": 100
          },
          "caution_ttc": {
            "type": "number",
            "format": "float",
            "description": "Security deposit including taxes",
            "example": 120
          },
          "total_price_ht": {
            "type": "number",
            "format": "float",
            "description": "Contract total excluding taxes",
            "example": 500
          },
          "total_price_ttc": {
            "type": "number",
            "format": "float",
            "description": "Contract total including taxes",
            "example": 600
          }
        },
        "additionalProperties": true
      },
      "UpdateContractResponse": {
        "type": "object",
        "description": "Response returned after a successful contract update.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "description": "Updated contract resource.",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "8f36f92b-3d41-4a55-9b5a-17a53f729c9f"
              },
              "status": {
                "type": "string",
                "example": "SIGNED"
              },
              "start_datetime": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-12T10:00:00.000Z"
              },
              "end_datetime": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-14T18:00:00.000Z"
              },
              "deposit_payment_method": {
                "type": [
                  "string",
                  "null"
                ],
                "example": "cash"
              },
              "account_ht": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 400
              },
              "account_ttc": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 480
              },
              "caution_ht": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 100
              },
              "caution_ttc": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 120
              },
              "total_price_ht": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 500
              },
              "total_price_ttc": {
                "type": [
                  "number",
                  "null"
                ],
                "example": 600
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "f03b6a82-2034-44c8-8614-7b9f3e2e5a4a"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T14:23:05.123Z"
              }
            },
            "additionalProperties": true
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "/contracts/{id}": {
        "patch": {
          "tags": [
            "Contracts"
          ],
          "summary": "Soft delete a contract (logical deletion)",
          "description": "Marks a contract as deleted without removing it from the database. This operation sets the `deleted_at` and `deleted_by` fields, allowing recovery or auditing later.",
          "operationId": "softDeleteContract",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "description": "Unique identifier of the contract to be soft deleted.",
              "schema": {
                "type": "string",
                "format": "uuid"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Contract successfully soft deleted",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Contract soft deleted"
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Contract not found or already deleted"
            },
            "500": {
              "description": "Internal server error during soft delete"
            }
          }
        }
      },
      "/contracts/{id}/hard": {
        "delete": {
          "tags": [
            "Contracts"
          ],
          "summary": "Hard delete a contract (permanent removal)",
          "description": "Permanently removes a contract from the database. This operation cannot be undone and should only be used by administrators with elevated privileges.",
          "operationId": "hardDeleteContract",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "description": "Unique identifier of the contract to be permanently deleted.",
              "schema": {
                "type": "string",
                "format": "uuid"
              }
            }
          ],
          "responses": {
            "200": {
              "description": "Contract successfully deleted from database",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "message": {
                        "type": "string",
                        "example": "Contract permanently deleted"
                      }
                    }
                  }
                }
              }
            },
            "404": {
              "description": "Contract not found in the database"
            },
            "500": {
              "description": "Internal server error during hard delete"
            }
          }
        }
      },
      "title": "Generate Signature",
      "additionalProperties": false,
      "ContractType": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the contract type",
            "example": "ct_7a2c9d51"
          },
          "name": {
            "type": "string",
            "description": "Contract type name",
            "example": "Location longue dur√©e"
          },
          "created_by": {
            "type": [
              "string",
              "null"
            ],
            "description": "UUID of the user who created this contract type",
            "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-09T18:35:00.000Z"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "example": null
          },
          "deleted_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "example": null
          }
        },
        "required": [
          "id",
          "name",
          "created_at"
        ]
      },
      "GetContractTypesResponse": {
        "type": "object",
        "description": "Response object returned by GET /contract-types.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractType"
            },
            "description": "List of all contract types available in the system."
          }
        }
      },
      "ContractTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ContractType"
          }
        }
      },
      "CreateContractTypeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the new contract type",
            "example": "Location longue dur√©e"
          }
        },
        "required": [
          "name"
        ]
      },
      "CreateContractTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ContractType"
          }
        }
      },
      "UpdateContractTypeRequest": {
        "type": "object",
        "description": "Payload to update a contract type.",
        "properties": {
          "name": {
            "type": "string",
            "description": "New name of the contract type.",
            "example": "Location longue dur√©e (modifi√©e)"
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateContractTypeResponse": {
        "type": "object",
        "description": "Response returned after updating a contract type.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "bca0d9f7-9f33-4d8e-b3e3-7a22ed1b6ac7"
              },
              "name": {
                "type": "string",
                "example": "Location longue dur√©e (modifi√©e)"
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "16937819-c033-438f-bbad-543d83443371"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T20:45:00.000Z"
              }
            },
            "additionalProperties": true
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "DeleteContractTypeSoftResponse": {
        "type": "object",
        "description": "Response returned when a contract type is soft deleted.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "8c1d72b3-6e91-47b9-8c1e-f13c19e5b4de"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T20:50:00.000Z"
              },
              "deleted_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "16937819-c033-438f-bbad-543d83443371"
              }
            },
            "additionalProperties": true
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "DeleteContractTypeHardResponse": {
        "type": "object",
        "description": "Response returned when a contract type is permanently deleted.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Contract type permanently deleted"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "ContractAddon": {
        "type": "object",
        "description": "Optional service or add-on linked to a contract package.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "addon_01"
          },
          "name": {
            "type": "string",
            "example": "Pressing inclus"
          },
          "price_ht": {
            "type": "number",
            "example": 25
          },
          "price_ttc": {
            "type": "number",
            "example": 30
          }
        }
      },
      "ContractPackageListItem": {
        "type": "object",
        "description": "Represents a summarized contract package item returned in the list view.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "pkg_001"
          },
          "name": {
            "type": "string",
            "example": "Formule Classique"
          },
          "description": {
            "type": "string",
            "example": "Location simple sans options suppl√©mentaires"
          },
          "price_ht": {
            "type": "number",
            "example": 200
          },
          "price_ttc": {
            "type": "number",
            "example": 240
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-05-14T09:15:30.000Z"
          },
          "addons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractAddon"
            }
          }
        }
      },
      "GetContractPackagesResponse": {
        "type": "object",
        "description": "Response schema for retrieving all active contract packages.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractPackageListItem"
            }
          }
        }
      },
      "ContractAddonDetail": {
        "type": "object",
        "description": "Detailed information about an add-on included in the contract package.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "addon_02"
          },
          "name": {
            "type": "string",
            "example": "Livraison √† domicile"
          },
          "price_ht": {
            "type": "number",
            "example": 40
          },
          "price_ttc": {
            "type": "number",
            "example": 48
          }
        }
      },
      "ContractPackageDetail": {
        "type": "object",
        "description": "Full detailed structure of a contract package including its related add-ons.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "pkg_002"
          },
          "name": {
            "type": "string",
            "example": "Formule Premium"
          },
          "description": {
            "type": "string",
            "example": "Inclut pressing et livraison √† domicile"
          },
          "price_ht": {
            "type": "number",
            "example": 350
          },
          "price_ttc": {
            "type": "number",
            "example": 420
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-05-14T09:15:30.000Z"
          },
          "addons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ContractAddonDetail"
            }
          }
        }
      },
      "GetContractPackageByIdResponse": {
        "type": "object",
        "description": "Response schema for retrieving a single contract package by its ID.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/ContractPackageDetail"
          }
        }
      },
      "UpdateContractPackageRequest": {
        "type": "object",
        "description": "Payload for updating an existing contract package.",
        "properties": {
          "name": {
            "type": "string",
            "example": "Formule Premium Plus",
            "description": "Updated package name."
          },
          "num_dresses": {
            "type": "integer",
            "example": 2,
            "description": "Updated number of dresses included in the package."
          },
          "price_ht": {
            "type": "number",
            "example": 400,
            "description": "Updated base price (HT)."
          },
          "price_ttc": {
            "type": "number",
            "example": 480,
            "description": "Updated total price (TTC)."
          },
          "addon_ids": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "example": [
              "addon_01",
              "addon_03"
            ],
            "description": "Optional list of add-on IDs to replace the existing ones."
          }
        }
      },
      "UpdatedAddonReference": {
        "type": "object",
        "description": "Add-on associated to the updated contract package.",
        "properties": {
          "addon": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "addon_03"
              },
              "name": {
                "type": "string",
                "example": "Livraison express"
              },
              "price_ht": {
                "type": "number",
                "example": 50
              },
              "price_ttc": {
                "type": "number",
                "example": 60
              }
            }
          }
        }
      },
      "UpdatedContractPackage": {
        "type": "object",
        "description": "Represents the updated contract package returned after modification.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "pkg_001"
          },
          "name": {
            "type": "string",
            "example": "Formule Premium Plus"
          },
          "num_dresses": {
            "type": "integer",
            "example": 2
          },
          "price_ht": {
            "type": "number",
            "example": 400
          },
          "price_ttc": {
            "type": "number",
            "example": 480
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-09T23:15:00.000Z"
          },
          "updated_by": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
          },
          "addons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UpdatedAddonReference"
            }
          }
        }
      },
      "UpdateContractPackageResponse": {
        "type": "object",
        "description": "Response returned when a contract package is successfully updated.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/UpdatedContractPackage"
          }
        }
      },
      "CreateContractPackageRequest": {
        "type": "object",
        "required": [
          "name",
          "num_dresses",
          "price_ht",
          "price_ttc"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Formule Premium",
            "description": "Package name (must be unique)"
          },
          "num_dresses": {
            "type": "integer",
            "example": 2,
            "description": "Number of dresses included in this package"
          },
          "price_ht": {
            "type": "number",
            "example": 350,
            "description": "Base price before tax (HT)"
          },
          "price_ttc": {
            "type": "number",
            "example": 420,
            "description": "Total price including tax (TTC)"
          },
          "addon_ids": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            },
            "example": [
              "addon_01",
              "addon_02"
            ],
            "description": "Optional list of add-on IDs to associate with the package"
          }
        }
      },
      "CreatedAddonReference": {
        "type": "object",
        "description": "Add-on associated to the created contract package.",
        "properties": {
          "addon": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "addon_01"
              },
              "name": {
                "type": "string",
                "example": "Pressing inclus"
              },
              "price_ht": {
                "type": "number",
                "example": 25
              },
              "price_ttc": {
                "type": "number",
                "example": 30
              }
            }
          }
        }
      },
      "CreatedContractPackage": {
        "type": "object",
        "description": "Represents a newly created contract package with its metadata.",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "pkg_001"
          },
          "name": {
            "type": "string",
            "example": "Formule Premium"
          },
          "num_dresses": {
            "type": "integer",
            "example": 2
          },
          "price_ht": {
            "type": "number",
            "example": 350
          },
          "price_ttc": {
            "type": "number",
            "example": 420
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2025-10-09T22:20:00.000Z"
          },
          "created_by": {
            "type": [
              "string",
              "null"
            ],
            "format": "uuid",
            "example": "1a2b3c4d-5e6f-7890-abcd-ef1234567890"
          },
          "addons": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreatedAddonReference"
            }
          }
        }
      },
      "CreateContractPackageResponse": {
        "type": "object",
        "description": "Response structure after successfully creating a contract package.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/CreatedContractPackage"
          }
        }
      },
      "SoftDeleteContractPackageResponse": {
        "type": "object",
        "description": "Response returned when a contract package is successfully soft deleted.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Contract package soft deleted"
          }
        }
      },
      "HardDeleteContractPackageResponse": {
        "type": "object",
        "description": "Response returned when a contract package is permanently deleted from the database.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the operation was successful",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "A message confirming the result of the deletion",
            "example": "Contract package permanently deleted"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "GetContractAddonsResponse": {
        "type": "object",
        "description": "Response object for retrieving all active contract addons.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the request was successful.",
            "example": true
          },
          "data": {
            "type": "array",
            "description": "List of contract addons available in the system.",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid",
                  "description": "Unique identifier for the addon.",
                  "example": "a1b2c3d4-e5f6-7890-1234-abcdef987654"
                },
                "name": {
                  "type": "string",
                  "description": "Name of the contract addon.",
                  "example": "Livraison express"
                },
                "description": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "description": "Optional description of the addon.",
                  "example": "Service de livraison sous 48h."
                },
                "price_ht": {
                  "type": "number",
                  "format": "float",
                  "description": "Addon price excluding tax (HT).",
                  "example": 25
                },
                "price_ttc": {
                  "type": "number",
                  "format": "float",
                  "description": "Addon price including tax (TTC).",
                  "example": 30
                },
                "created_at": {
                  "type": "string",
                  "format": "date-time",
                  "description": "Date and time when the addon was created.",
                  "example": "2025-09-10T14:20:00.000Z"
                },
                "updated_at": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "format": "date-time",
                  "description": "Date and time of the last update, if applicable.",
                  "example": "2025-09-15T08:45:00.000Z"
                }
              },
              "required": [
                "id",
                "name",
                "price_ht",
                "price_ttc",
                "created_at"
              ]
            }
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "GetContractAddonByIdResponse": {
        "type": "object",
        "description": "Response structure for retrieving a specific contract addon by its ID.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the request was successful.",
            "example": true
          },
          "data": {
            "type": "object",
            "description": "Details of the retrieved contract addon.",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "description": "Unique identifier of the contract addon.",
                "example": "a1b2c3d4-e5f6-7890-1234-abcdef987654"
              },
              "name": {
                "type": "string",
                "description": "Name of the contract addon.",
                "example": "Pressing express"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "Optional description providing additional details about the addon.",
                "example": "Service de pressing disponible sous 24h."
              },
              "price_ht": {
                "type": "number",
                "format": "float",
                "description": "Addon price excluding tax (HT).",
                "example": 15
              },
              "price_ttc": {
                "type": "number",
                "format": "float",
                "description": "Addon price including tax (TTC).",
                "example": 18
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "description": "Date and time when the addon was created.",
                "example": "2025-09-10T14:20:00.000Z"
              },
              "updated_at": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "date-time",
                "description": "Date and time of the last update, if applicable.",
                "example": "2025-09-15T08:45:00.000Z"
              }
            },
            "required": [
              "id",
              "name",
              "price_ht",
              "price_ttc",
              "created_at"
            ]
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "CreateContractAddonRequest": {
        "type": "object",
        "description": "Request body for creating a new contract addon.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the contract addon.",
            "example": "Livraison √† domicile"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description that explains what the addon covers.",
            "example": "Livraison des tenues directement au domicile du client."
          },
          "price_ht": {
            "type": "number",
            "format": "float",
            "description": "Price excluding tax (HT). Ignored if `included` is true.",
            "example": 25
          },
          "price_ttc": {
            "type": "number",
            "format": "float",
            "description": "Price including tax (TTC). Ignored if `included` is true.",
            "example": 30
          },
          "included": {
            "type": "boolean",
            "description": "Indicates whether this addon is included by default and free of charge.",
            "example": false
          }
        },
        "required": [
          "name"
        ]
      },
      "CreateContractAddonResponse": {
        "type": "object",
        "description": "Response structure after successfully creating a contract addon.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "c8b7d98a-25ab-49d3-8a40-03c1e173d56f"
              },
              "name": {
                "type": "string",
                "example": "Livraison √† domicile"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ],
                "example": "Livraison des tenues directement au domicile du client."
              },
              "price_ht": {
                "type": "number",
                "format": "float",
                "example": 25
              },
              "price_ttc": {
                "type": "number",
                "format": "float",
                "example": 30
              },
              "included": {
                "type": "boolean",
                "example": false
              },
              "created_by": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "User ID who created the addon.",
                "example": "16937819-c033-438f-bbad-543d83443371"
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T21:00:00.000Z"
              }
            },
            "required": [
              "id",
              "name",
              "created_at"
            ]
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "UpdateContractAddonRequest": {
        "type": "object",
        "description": "Request body for updating an existing contract addon.",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the addon.",
            "example": "Livraison express"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "description": "Optional description of what the addon provides.",
            "example": "Livraison express du mat√©riel sous 24h."
          },
          "price_ht": {
            "type": "number",
            "format": "float",
            "description": "Addon price excluding tax (HT). Ignored if `included` is true.",
            "example": 20
          },
          "price_ttc": {
            "type": "number",
            "format": "float",
            "description": "Addon price including tax (TTC). Ignored if `included` is true.",
            "example": 24
          },
          "included": {
            "type": "boolean",
            "description": "Indicates whether this addon is included by default and free of charge.",
            "example": false
          }
        },
        "required": [
          "name"
        ]
      },
      "UpdateContractAddonResponse": {
        "type": "object",
        "description": "Response structure for an updated contract addon.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "a1b2c3d4-e5f6-7890-1234-abcdef987654"
              },
              "name": {
                "type": "string",
                "example": "Livraison express"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ],
                "example": "Livraison express du mat√©riel sous 24h."
              },
              "price_ht": {
                "type": "number",
                "example": 20
              },
              "price_ttc": {
                "type": "number",
                "example": 24
              },
              "included": {
                "type": "boolean",
                "example": false
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "ID of the user who last updated this addon.",
                "example": "16937819-c033-438f-bbad-543d83443371"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T22:00:00.000Z"
              }
            },
            "required": [
              "id",
              "name",
              "updated_at"
            ]
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "SoftDeleteContractAddonResponse": {
        "type": "object",
        "description": "Response returned when a contract addon is soft deleted.",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "description": "Details of the contract addon that was marked as deleted.",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "d2b51c7b-4385-4b5b-8e8f-9942c3a2f1b7"
              },
              "name": {
                "type": "string",
                "example": "Livraison √† domicile"
              },
              "price_ht": {
                "type": "number",
                "example": 25
              },
              "price_ttc": {
                "type": "number",
                "example": 30
              },
              "included": {
                "type": "boolean",
                "example": false
              },
              "deleted_by": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "ID of the user who soft deleted this addon.",
                "example": "16937819-c033-438f-bbad-543d83443371"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time",
                "description": "Timestamp when the addon was soft deleted.",
                "example": "2025-10-09T22:45:00.000Z"
              }
            },
            "required": [
              "id",
              "deleted_at"
            ]
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "HardDeleteContractAddonResponse": {
        "type": "object",
        "description": "Response returned when a contract addon is permanently deleted.",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the deletion was successful.",
            "example": true
          },
          "message": {
            "type": "string",
            "description": "Confirmation message about the deletion result.",
            "example": "Contract addon permanently deleted"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "/dresses": {
        "get": {
          "tags": [
            "Dresses"
          ],
          "summary": "Get all dresses",
          "description": "Retrieves a complete list of all dresses stored in the database that are **not soft deleted** (`deleted_at: null`). The endpoint returns each dress along with its related entities: `type`, `size`, `condition`, and `color`. Results are ordered by the creation date in **descending** order (most recent first).",
          "operationId": "getDresses",
          "security": [
            {
              "bearerAuth": []
            }
          ],
          "parameters": [
            {
              "name": "limit",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 50
              },
              "description": "Optional limit for pagination ‚Äî the maximum number of dresses to retrieve."
            },
            {
              "name": "offset",
              "in": "query",
              "required": false,
              "schema": {
                "type": "integer",
                "example": 0
              },
              "description": "Optional offset for pagination ‚Äî number of records to skip."
            },
            {
              "name": "type",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "example": "Robe de soir√©e"
              },
              "description": "Optional filter by dress type."
            },
            {
              "name": "size",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "example": "M"
              },
              "description": "Optional filter by dress size."
            },
            {
              "name": "color",
              "in": "query",
              "required": false,
              "schema": {
                "type": "string",
                "example": "Rouge"
              },
              "description": "Optional filter by dress color."
            }
          ],
          "responses": {
            "200": {
              "description": "‚úÖ Successfully retrieved all active dresses.",
              "content": {
                "application/json": {
                  "examples": {
                    "successResponse": {
                      "summary": "Successful retrieval of dresses list",
                      "value": {
                        "success": true,
                        "data": [
                          {
                            "id": "7d2f6f3a-18c5-43aa-812e-8df1b0b61f6f",
                            "name": "Robe de soir√©e rouge √©l√©gante",
                            "reference": "RS-2025-004",
                            "description": "Robe fluide en satin rouge avec bretelles fines et dos nu.",
                            "price_ht": 120,
                            "price_ttc": 144,
                            "images": [
                              "https://cdn.allure-creation.fr/dresses/robe-rouge-1.jpg",
                              "https://cdn.allure-creation.fr/dresses/robe-rouge-2.jpg"
                            ],
                            "created_at": "2025-05-10T14:32:00.000Z",
                            "updated_at": "2025-06-01T09:00:00.000Z",
                            "type": {
                              "id": "e4b3a6df-f6b8-4a64-9d25-3e52bda8df21",
                              "name": "Robe de soir√©e"
                            },
                            "size": {
                              "id": "bd78c24f-b8e2-45f1-910b-273b63a5d889",
                              "label": "M"
                            },
                            "condition": {
                              "id": "4b7c0aa3-8a6e-4f6c-bb84-195a9f5e20a2",
                              "label": "Tr√®s bon √©tat"
                            },
                            "color": {
                              "id": "9b7f0a89-b1c1-4c58-a03f-fbcd85b2c4e3",
                              "label": "Rouge"
                            }
                          }
                        ]
                      }
                    }
                  },
                  "schema": {
                    "type": "object",
                    "required": [
                      "success",
                      "data"
                    ],
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true,
                        "description": "Indicates whether the request was successful."
                      },
                      "data": {
                        "type": "array",
                        "description": "List of dresses with related entities (type, size, condition, color).",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": {
                              "type": "string",
                              "format": "uuid"
                            },
                            "name": {
                              "type": "string",
                              "example": "Robe de mari√©e √âl√©gance"
                            },
                            "reference": {
                              "type": "string",
                              "example": "RM-2025-001"
                            },
                            "description": {
                              "type": "string",
                              "example": "Robe blanche en dentelle, coupe sir√®ne."
                            },
                            "price_ht": {
                              "type": "number",
                              "example": 400
                            },
                            "price_ttc": {
                              "type": "number",
                              "example": 480
                            },
                            "images": {
                              "type": "array",
                              "items": {
                                "type": "string",
                                "format": "uri"
                              },
                              "example": [
                                "https://cdn.allure-creation.fr/dresses/mariee1.jpg",
                                "https://cdn.allure-creation.fr/dresses/mariee2.jpg"
                              ]
                            },
                            "created_at": {
                              "type": "string",
                              "format": "date-time"
                            },
                            "updated_at": {
                              "type": [
                                "string",
                                "null"
                              ],
                              "format": "date-time"
                            },
                            "type": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Robe de mari√©e"
                                }
                              }
                            },
                            "size": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid"
                                },
                                "label": {
                                  "type": "string",
                                  "example": "S"
                                }
                              }
                            },
                            "condition": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid"
                                },
                                "label": {
                                  "type": "string",
                                  "example": "Excellent √©tat"
                                }
                              }
                            },
                            "color": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "format": "uuid"
                                },
                                "label": {
                                  "type": "string",
                                  "example": "Blanc ivoire"
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            },
            "500": {
              "description": "üí• Internal server error - Failed to fetch dresses.",
              "content": {
                "application/json": {
                  "examples": {
                    "errorExample": {
                      "summary": "Example server error",
                      "value": {
                        "success": false,
                        "error": "Failed to fetch dresses"
                      }
                    }
                  },
                  "schema": {
                    "type": "object",
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": false
                      },
                      "error": {
                        "type": "string",
                        "example": "Failed to fetch dresses"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "/dresses/{id}": {
        "get": {
          "tags": [
            "Dresses"
          ],
          "summary": "Get dress by ID",
          "description": "Retrieves a specific dress by its unique identifier, including detailed information such as its type, size, condition, color, and associated images.",
          "operationId": "getDressById",
          "parameters": [
            {
              "name": "id",
              "in": "path",
              "required": true,
              "schema": {
                "type": "string",
                "format": "uuid"
              },
              "description": "UUID of the dress to retrieve."
            }
          ],
          "responses": {
            "200": {
              "description": "‚úÖ Successfully retrieved the dress",
              "content": {
                "application/json": {
                  "schema": {
                    "type": "object",
                    "required": [
                      "success",
                      "data"
                    ],
                    "properties": {
                      "success": {
                        "type": "boolean",
                        "example": true
                      },
                      "data": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "name": {
                            "type": "string",
                            "example": "Robe √âl√©gance Blanche"
                          },
                          "reference": {
                            "type": "string",
                            "example": "RE-2025-001"
                          },
                          "price_ht": {
                            "type": "number",
                            "example": 400
                          },
                          "price_ttc": {
                            "type": "number",
                            "example": 480
                          },
                          "price_per_day_ht": {
                            "type": "number",
                            "example": 100
                          },
                          "price_per_day_ttc": {
                            "type": "number",
                            "example": 120
                          },
                          "images": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "format": "uri"
                            },
                            "example": [
                              "https://bucket.hel1.your-objectstorage.com/abc12345-6789-efgh-9012-ijklmnopqrst",
                              "https://bucket.hel1.your-objectstorage.com/def67890-1234-ghij-5678-klmnopqrstuv"
                            ]
                          },
                          "type": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "name": {
                                "type": "string",
                                "example": "Robe de Mari√©e"
                              }
                            }
                          },
                          "size": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "M"
                              }
                            }
                          },
                          "condition": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "Tr√®s bon √©tat"
                              }
                            }
                          },
                          "color": {
                            "type": "object",
                            "properties": {
                              "id": {
                                "type": "string",
                                "format": "uuid"
                              },
                              "label": {
                                "type": "string",
                                "example": "Blanc Ivoire"
                              }
                            }
                          },
                          "created_at": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2025-03-15T10:00:00.000Z"
                          },
                          "updated_at": {
                            "type": [
                              "string",
                              "null"
                            ],
                            "format": "date-time",
                            "example": "2025-04-10T12:00:00.000Z"
                          }
                        }
                      }
                    }
                  },
                  "examples": {
                    "success": {
                      "summary": "Example: Successfully retrieved a dress",
                      "value": {
                        "success": true,
                        "data": {
                          "id": "a7b2c3d4-5678-90ab-cdef-1234567890ab",
                          "name": "Robe √âl√©gance Blanche",
                          "reference": "RE-2025-001",
                          "price_ht": 400,
                          "price_ttc": 480,
                          "price_per_day_ht": 100,
                          "price_per_day_ttc": 120,
                          "images": [
                            "https://bucket.hel1.your-objectstorage.com/abc12345-6789-efgh-9012-ijklmnopqrst",
                            "https://bucket.hel1.your-objectstorage.com/def67890-1234-ghij-5678-klmnopqrstuv"
                          ],
                          "type": {
                            "id": "1",
                            "name": "Robe de Mari√©e"
                          },
                          "size": {
                            "id": "2",
                            "label": "M"
                          },
                          "condition": {
                            "id": "3",
                            "label": "Tr√®s bon √©tat"
                          },
                          "color": {
                            "id": "4",
                            "label": "Blanc Ivoire"
                          },
                          "created_at": "2025-03-15T10:00:00.000Z",
                          "updated_at": "2025-04-10T12:00:00.000Z"
                        }
                      }
                    }
                  }
                }
              }
            },
            "400": {
              "description": "‚ö†Ô∏è Invalid request - Missing or incorrect ID parameter.",
              "content": {
                "application/json": {
                  "example": {
                    "success": false,
                    "error": "ID is required"
                  }
                }
              }
            },
            "404": {
              "description": "‚ùå Dress not found",
              "content": {
                "application/json": {
                  "example": {
                    "success": false,
                    "error": "Dress not found"
                  }
                }
              }
            },
            "500": {
              "description": "üí• Internal server error - Failed to fetch dress by ID",
              "content": {
                "application/json": {
                  "example": {
                    "success": false,
                    "error": "Failed to fetch dress by ID"
                  }
                }
              }
            }
          }
        }
      },
      "CreateDressResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string",
                "example": "Elegant Evening Gown"
              },
              "reference": {
                "type": "string",
                "example": "EVG12345"
              },
              "price_ht": {
                "type": "number",
                "example": 150
              },
              "price_ttc": {
                "type": "number",
                "example": 180
              },
              "price_per_day_ht": {
                "type": "number",
                "example": 15
              },
              "price_per_day_ttc": {
                "type": "number",
                "example": 18
              },
              "type_id": {
                "type": "string",
                "format": "uuid"
              },
              "size_id": {
                "type": "string",
                "format": "uuid"
              },
              "condition_id": {
                "type": "string",
                "format": "uuid"
              },
              "color_id": {
                "type": "string",
                "format": "uuid"
              },
              "images": {
                "type": "array",
                "items": {
                  "type": "string",
                  "format": "uri"
                }
              },
              "created_by": {
                "type": [
                  "string",
                  "null"
                ],
                "description": "User ID who created this dress",
                "example": "16937819-c033-438f-bbad-543d83443371"
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T22:45:00.000Z"
              }
            },
            "required": [
              "id",
              "name",
              "reference",
              "price_ht",
              "price_ttc",
              "price_per_day_ht",
              "price_per_day_ttc",
              "type_id",
              "size_id",
              "condition_id",
              "color_id",
              "images",
              "created_at"
            ]
          }
        },
        "required": [
          "success",
          "data"
        ]
      },
      "put": {
        "tags": [
          "Dresses"
        ],
        "summary": "Update a dress by ID",
        "description": "Update the details of an existing dress identified by its ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the dress to update",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "description": "Dress object that needs to be updated",
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "example": "Evening Gown"
                  },
                  "color": {
                    "type": "string",
                    "example": "Red"
                  },
                  "size": {
                    "type": "string",
                    "enum": [
                      "XS",
                      "S",
                      "M",
                      "L",
                      "XL"
                    ],
                    "example": "M"
                  },
                  "price": {
                    "type": "number",
                    "format": "float",
                    "example": 149.99
                  },
                  "available": {
                    "type": "boolean",
                    "example": true
                  }
                },
                "required": [
                  "name",
                  "color",
                  "size",
                  "price"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Dress updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "name": {
                      "type": "string"
                    },
                    "color": {
                      "type": "string"
                    },
                    "size": {
                      "type": "string"
                    },
                    "price": {
                      "type": "number",
                      "format": "float"
                    },
                    "available": {
                      "type": "boolean"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid input, object invalid"
          },
          "404": {
            "description": "Dress not found"
          },
          "500": {
            "description": "Internal server error"
          }
        }
      },
      "tags": [
        "Dresses"
      ],
      "summary": "Add an image to a dress",
      "description": "Allows uploading an image associated with a specific dress identified by its ID.",
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "description": "ID of the dress to add an image to",
          "required": true,
          "schema": {
            "type": "string",
            "format": "uuid"
          }
        }
      ],
      "responses": {
        "200": {
          "description": "Image successfully uploaded",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DressImage"
              }
            }
          }
        },
        "400": {
          "description": "Invalid input, such as missing image file or invalid dress ID",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        },
        "404": {
          "description": "Dress not found",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        },
        "500": {
          "description": "Internal server error",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Error"
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Dresses"
        ],
        "summary": "Soft delete a dress by ID",
        "description": "This endpoint allows you to soft delete a dress by its unique identifier. The dress will not be permanently removed but marked as deleted.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the dress to soft delete",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Dress soft deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "string",
                      "format": "uuid",
                      "example": "123e4567-e89b-12d3-a456-426614174000"
                    },
                    "deletedAt": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2024-06-01T12:00:00Z"
                    }
                  },
                  "required": [
                    "id",
                    "deletedAt"
                  ]
                },
                "examples": {
                  "success": {
                    "summary": "Successful soft delete",
                    "value": {
                      "id": "123e4567-e89b-12d3-a456-426614174000",
                      "deletedAt": "2024-06-01T12:00:00Z"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Dress not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Dress with id '123e4567-e89b-12d3-a456-426614174000' not found"
                    }
                  },
                  "required": [
                    "error"
                  ]
                },
                "examples": {
                  "notFound": {
                    "summary": "Dress not found",
                    "value": {
                      "error": "Dress with id '123e4567-e89b-12d3-a456-426614174000' not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred"
                    }
                  },
                  "required": [
                    "error"
                  ]
                },
                "examples": {
                  "serverError": {
                    "summary": "Internal server error",
                    "value": {
                      "error": "An unexpected error occurred"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Dresses"
        ],
        "summary": "Get detailed view of dresses with pagination",
        "description": "Retrieve a paginated list of dresses with detailed information including id, name, description, price, color, size, and availability status.",
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "Page number to retrieve",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "minimum": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Number of items per page",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "minimum": 1,
              "maximum": 100
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A paginated list of dresses with detailed information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "page": {
                      "type": "integer",
                      "example": 1
                    },
                    "limit": {
                      "type": "integer",
                      "example": 10
                    },
                    "totalPages": {
                      "type": "integer",
                      "example": 5
                    },
                    "totalItems": {
                      "type": "integer",
                      "example": 50
                    },
                    "items": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "example": "dress_12345"
                          },
                          "name": {
                            "type": "string",
                            "example": "Elegant Evening Gown"
                          },
                          "description": {
                            "type": "string",
                            "example": "A beautiful evening gown perfect for formal events."
                          },
                          "price": {
                            "type": "number",
                            "format": "float",
                            "example": 149.99
                          },
                          "color": {
                            "type": "string",
                            "example": "Red"
                          },
                          "size": {
                            "type": "string",
                            "example": "M"
                          },
                          "available": {
                            "type": "boolean",
                            "example": true
                          }
                        },
                        "required": [
                          "id",
                          "name",
                          "price",
                          "available"
                        ]
                      }
                    }
                  },
                  "required": [
                    "page",
                    "limit",
                    "totalPages",
                    "totalItems",
                    "items"
                  ]
                },
                "examples": {
                  "success": {
                    "summary": "Example response",
                    "value": {
                      "page": 1,
                      "limit": 10,
                      "totalPages": 5,
                      "totalItems": 50,
                      "items": [
                        {
                          "id": "dress_12345",
                          "name": "Elegant Evening Gown",
                          "description": "A beautiful evening gown perfect for formal events.",
                          "price": 149.99,
                          "color": "Red",
                          "size": "M",
                          "available": true
                        },
                        {
                          "id": "dress_12346",
                          "name": "Casual Summer Dress",
                          "description": "Light and breezy summer dress for casual outings.",
                          "price": 79.99,
                          "color": "Yellow",
                          "size": "S",
                          "available": false
                        }
                      ]
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Internal Server Error"
                    },
                    "message": {
                      "type": "string",
                      "example": "An unexpected error occurred while processing the request."
                    }
                  },
                  "required": [
                    "error",
                    "message"
                  ]
                },
                "examples": {
                  "serverError": {
                    "summary": "Example error response",
                    "value": {
                      "error": "Internal Server Error",
                      "message": "An unexpected error occurred while processing the request."
                    }
                  }
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Dresses"
        ],
        "summary": "Delete an image from a dress",
        "description": "Deletes a specific image identified by its key from the dress with the given ID.",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "description": "ID of the dress",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "key",
            "in": "path",
            "description": "Key of the image to delete",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Image deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "message": {
                      "type": "string",
                      "example": "Image deleted successfully"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Invalid ID or key"
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Dress or image not found",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "Dress or image not found"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "error": {
                      "type": "string",
                      "example": "An unexpected error occurred"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "requestBody": {
        "required": true,
        "content": {
          "multipart/form-data": {
            "schema": {
              "type": "object",
              "properties": {
                "image": {
                  "type": "string",
                  "format": "binary",
                  "description": "Image file to upload"
                }
              },
              "required": [
                "image"
              ]
            }
          }
        }
      },
      "DressAvailabilityResponse": {
        "type": "object",
        "required": [
          "success",
          "count",
          "data"
        ],
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "Indique si la requ√™te a r√©ussi."
          },
          "count": {
            "type": "number",
            "example": 12,
            "description": "Nombre total de robes retourn√©es dans data."
          },
          "filters": {
            "type": "object",
            "nullable": true,
            "description": "Plage de dates appliqu√©e pour le calcul de disponibilit√©.",
            "properties": {
              "start": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "example": "2025-10-21T10:00:00.000Z"
              },
              "end": {
                "type": "string",
                "format": "date-time",
                "nullable": true,
                "example": "2025-10-22T10:00:00.000Z"
              }
            }
          },
          "data": {
            "type": "array",
            "description": "Liste des robes avec leur statut de disponibilit√©.",
            "items": {
              "$ref": "#/components/schemas/DressAvailabilityItem"
            }
          }
        }
      },
      "DressAvailabilityItem": {
        "type": "object",
        "required": [
          "id",
          "name",
          "reference",
          "price_ht",
          "price_ttc",
          "price_per_day_ht",
          "price_per_day_ttc",
          "images",
          "isAvailable"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "5815dc9e-f860-4791-9ea5-deadb782329e",
            "description": "Identifiant unique de la robe."
          },
          "name": {
            "type": "string",
            "example": "Robe Orientale Dor√©e",
            "description": "Nom marketing de la robe."
          },
          "reference": {
            "type": "string",
            "example": "REF-OR-202",
            "description": "R√©f√©rence interne boutique."
          },
          "price_ht": {
            "type": "number",
            "format": "float",
            "example": 1018.33,
            "description": "Prix HT de la robe."
          },
          "price_ttc": {
            "type": "number",
            "format": "float",
            "example": 1222,
            "description": "Prix TTC de la robe."
          },
          "price_per_day_ht": {
            "type": "number",
            "format": "float",
            "example": 100,
            "description": "Prix HT de location par jour."
          },
          "price_per_day_ttc": {
            "type": "number",
            "format": "float",
            "example": 120,
            "description": "Prix TTC de location par jour."
          },
          "images": {
            "type": "array",
            "description": "URLs d'images associ√©es √† la robe.",
            "items": {
              "type": "string",
              "format": "uri",
              "example": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/3df7a0e6-bbcd-43c8-8a3b-e0b1ab2fe6ac"
            }
          },
          "isAvailable": {
            "type": "boolean",
            "example": false,
            "description": "true = la robe est libre sur la p√©riode demand√©e, false = elle est d√©j√† lou√©e / r√©serv√©e."
          },
          "current_contract": {
            "type": [
              "object",
              "null"
            ],
            "description": "Infos sur la r√©servation qui bloque la robe dans la p√©riode demand√©e. Null si elle est disponible.",
            "properties": {
              "start_datetime": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-21T10:00:00.000Z",
                "description": "D√©but de la p√©riode de location."
              },
              "end_datetime": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-22T10:00:00.000Z",
                "description": "Fin de la p√©riode de location."
              }
            }
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "type": "string",
            "example": "Failed to create color"
          }
        }
      },
      "DressColor": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
          },
          "name": {
            "type": "string",
            "example": "Rouge Bordeaux"
          },
          "hex_value": {
            "type": "string",
            "example": "#8A0303",
            "description": "Hexadecimal color representation"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2024-06-10T12:00:00Z"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "example": null
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "DressColorListResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DressColor"
            }
          }
        }
      },
      "UpdateDressColorRequest": {
        "type": "object",
        "required": [],
        "properties": {
          "name": {
            "type": "string",
            "example": "Rouge Cerise",
            "description": "The updated color name."
          },
          "hex_code": {
            "type": "string",
            "example": "#A10035",
            "description": "The updated hexadecimal color code."
          }
        }
      },
      "UpdateDressColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "7f736acb-7b51-4d07-9c18-13dbffeaabf8"
              },
              "name": {
                "type": "string",
                "example": "Rouge Cerise"
              },
              "hex_code": {
                "type": "string",
                "example": "#A10035"
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T20:00:00.000Z"
              }
            }
          }
        }
      },
      "CreateDressColorRequest": {
        "type": "object",
        "required": [
          "name",
          "hex_code"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Rouge Bordeaux",
            "description": "The display name of the color."
          },
          "hex_code": {
            "type": "string",
            "example": "#8A0303",
            "pattern": "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$",
            "description": "The hexadecimal color code in CSS format."
          }
        }
      },
      "CreateDressColorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "required": [
              "id",
              "name",
              "hex_code",
              "created_by",
              "created_at"
            ],
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "4f17c5b0-72b8-4b97-96d2-582c7d62b83a"
              },
              "name": {
                "type": "string",
                "example": "Rouge Bordeaux"
              },
              "hex_code": {
                "type": "string",
                "example": "#8A0303"
              },
              "created_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45",
                "description": "The ID of the user who created the color."
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T18:45:00.000Z"
              }
            }
          }
        }
      },
      "GetDressConditionsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid",
                  "example": "3bf7f7e0-c461-4ba5-8fea-a4fd2b8eeea8"
                },
                "name": {
                  "type": "string",
                  "example": "Neuf"
                },
                "created_at": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-10-09T20:00:00.000Z"
                }
              }
            }
          }
        }
      },
      "CreateDressConditionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Tr√®s bon √©tat"
          }
        }
      },
      "CreateDressConditionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "b4b5a6a7-9c8d-4e8f-b8e7-7c6f5d4e3f2a"
              },
              "name": {
                "type": "string",
                "example": "Tr√®s bon √©tat"
              },
              "created_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45"
              },
              "created_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T21:10:00.000Z"
              }
            }
          }
        }
      },
      "UpdateDressConditionRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Bon √©tat g√©n√©ral"
          }
        }
      },
      "UpdateDressConditionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "7b83a4d0-d662-42e2-9351-f5c80cb0cc43"
              },
              "name": {
                "type": "string",
                "example": "Bon √©tat g√©n√©ral"
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T21:30:00.000Z"
              }
            }
          }
        }
      },
      "SoftDeleteDressConditionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid",
                "example": "7b83a4d0-d662-42e2-9351-f5c80cb0cc43"
              },
              "name": {
                "type": "string",
                "example": "Bon √©tat"
              },
              "deleted_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid",
                "example": "a91c8e7a-5f0d-4fa2-8fcb-92694b0b7b45"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time",
                "example": "2025-10-09T22:00:00.000Z"
              }
            }
          }
        }
      },
      "HardDeleteDressConditionResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Condition hard deleted"
          }
        }
      },
      "GetDressSizesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "name": {
                  "type": "string",
                  "example": "L"
                }
              }
            }
          }
        }
      },
      "CreateDressSizeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "XL"
          }
        }
      },
      "CreateDressSizeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string",
                "example": "XL"
              },
              "created_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid"
              },
              "created_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "UpdateDressSizeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "L"
          }
        }
      },
      "UpdateDressSizeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string",
                "example": "L"
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "SoftDeleteDressSizeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string",
                "example": "M"
              },
              "deleted_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "HardDeleteDressSizeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Dress size permanently deleted"
          }
        }
      },
      "GetDressTypesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "name": {
                  "type": "string",
                  "example": "Robe de soir√©e"
                },
                "description": {
                  "type": [
                    "string",
                    "null"
                  ],
                  "example": "Tenue de soir√©e √©l√©gante"
                }
              }
            }
          }
        }
      },
      "CreateDressTypeRequest": {
        "type": "object",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Robe de cocktail"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "Robe mi-longue pour soir√©e"
          }
        }
      },
      "CreateDressTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ]
              }
            }
          }
        }
      },
      "UpdateDressTypeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "example": "Robe de gala"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "Robe longue et √©l√©gante"
          }
        }
      },
      "UpdateDressTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string"
              },
              "description": {
                "type": [
                  "string",
                  "null"
                ]
              },
              "updated_by": {
                "type": [
                  "string",
                  "null"
                ],
                "format": "uuid"
              },
              "updated_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "SoftDeleteDressTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "name": {
                "type": "string"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "HardDeleteDressTypeResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Dress type hard deleted"
          },
          "data": {
            "type": [
              "null",
              "object"
            ],
            "example": null
          }
        }
      },
      "ListAvatarsResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Indicates whether the operation succeeded",
            "example": true
          },
          "files": {
            "type": "array",
            "description": "Array of available avatar files stored in Object Storage",
            "items": {
              "$ref": "#/components/schemas/AvatarFile"
            },
            "example": [
              {
                "id": "avatar_001.png",
                "name": "avatar_001.png",
                "url": "https://avatar.hel1.your-objectstorage.com/avatar_001.png"
              }
            ]
          }
        },
        "required": [
          "success"
        ]
      },
      "AvatarFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique file identifier (the object key in the bucket)",
            "example": "avatar_001.png"
          },
          "name": {
            "type": "string",
            "description": "Human-readable file name",
            "example": "avatar_001.png"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Public URL of the avatar in Object Storage",
            "example": "https://avatar.hel1.your-objectstorage.com/avatar_001.png"
          }
        },
        "required": [
          "id",
          "url"
        ]
      },
      "GetAvatarByIdResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "file": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "description": "Unique key (filename) of the avatar in the storage bucket",
                "example": "avatar_001.png"
              },
              "name": {
                "type": "string",
                "description": "Display name (usually same as id)",
                "example": "avatar_001.png"
              },
              "url": {
                "type": "string",
                "format": "uri",
                "description": "Public URL of the avatar file in Hetzner Object Storage",
                "example": "https://avatar.hel1.your-objectstorage.com/avatar_001.png"
              }
            },
            "required": [
              "id",
              "name",
              "url"
            ]
          }
        },
        "required": [
          "success",
          "file"
        ]
      },
      "ListDressImagesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "files": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "description": "Unique key (filename) of the dress image in the bucket",
                  "example": "dress_001.png"
                },
                "name": {
                  "type": "string",
                  "description": "Display name of the file (usually same as id)",
                  "example": "dress_001.png"
                },
                "url": {
                  "type": "string",
                  "format": "uri",
                  "description": "Public URL to access the image in Hetzner Object Storage",
                  "example": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/dress_001.png"
                }
              },
              "required": [
                "id",
                "name",
                "url"
              ]
            }
          }
        },
        "required": [
          "success",
          "files"
        ]
      },
      "UploadDressImagesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "files": {
            "type": "array",
            "description": "List of uploaded images with metadata",
            "items": {
              "$ref": "#/components/schemas/DressUploadedFile"
            }
          }
        },
        "required": [
          "success",
          "files"
        ]
      },
      "DressUploadedFile": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Generated UUID for the uploaded image",
            "example": "a93e3f61-97b8-4db7-8425-4e3f84758ad1"
          },
          "name": {
            "type": "string",
            "description": "Original filename or S3 key of the image",
            "example": "dress_001.png"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Public URL of the uploaded image",
            "example": "https://media-allure-creation.hel1.your-objectstorage.com/dresses/dress_001.png"
          }
        },
        "required": [
          "id",
          "name",
          "url"
        ]
      },
      "DeleteDressImageResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "message": {
            "type": "string",
            "example": "Image deleted"
          }
        },
        "required": [
          "success",
          "message"
        ]
      },
      "GetUsersResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "count": {
            "type": "integer",
            "example": 2
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "profile": {
                  "type": "object",
                  "properties": {
                    "firstname": {
                      "type": "string"
                    },
                    "lastname": {
                      "type": "string"
                    },
                    "role": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "ADMIN"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "GetUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "profile": {
                "type": "object",
                "properties": {
                  "firstname": {
                    "type": "string"
                  },
                  "lastname": {
                    "type": "string"
                  },
                  "role": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "UpdateUserRequest": {
        "type": "object",
        "properties": {
          "password": {
            "type": "string",
            "example": "newSecurePassword123"
          },
          "profile": {
            "type": "object",
            "properties": {
              "firstname": {
                "type": "string"
              },
              "lastname": {
                "type": "string"
              },
              "role_id": {
                "type": "string",
                "format": "uuid"
              }
            }
          }
        }
      },
      "UpdateUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "email": {
                "type": "string",
                "format": "email"
              },
              "profile": {
                "type": "object",
                "properties": {
                  "firstname": {
                    "type": "string"
                  },
                  "lastname": {
                    "type": "string"
                  },
                  "role": {
                    "type": "object",
                    "properties": {
                      "name": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "SoftDeleteUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "HardDeleteUserResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "message": {
                "type": "string",
                "example": "User permanently deleted"
              }
            }
          }
        }
      },
      "GetProfilesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "string",
                  "format": "uuid"
                },
                "firstname": {
                  "type": "string"
                },
                "lastname": {
                  "type": "string"
                },
                "email": {
                  "type": "string",
                  "format": "email"
                },
                "phone": {
                  "type": "string"
                },
                "role_id": {
                  "type": "string",
                  "format": "uuid"
                }
              }
            }
          }
        }
      },
      "CreateProfileRequest": {
        "type": "object",
        "required": [
          "firstname",
          "lastname",
          "email",
          "role_id"
        ],
        "properties": {
          "firstname": {
            "type": "string",
            "example": "Emma"
          },
          "lastname": {
            "type": "string",
            "example": "Dupont"
          },
          "email": {
            "type": "string",
            "format": "email",
            "example": "emma.dupont@email.fr"
          },
          "phone": {
            "type": "string",
            "example": "+33611223344"
          },
          "role_id": {
            "type": "string",
            "format": "uuid",
            "example": "3b2b6ad7-5b42-4b15-82b8-1f23e02c85a1"
          },
          "userId": {
            "type": "string",
            "format": "uuid",
            "example": "5af42e7c-721e-4cb2-902e-3d8e705a02f7"
          }
        }
      },
      "CreateProfileResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "firstname": {
                "type": "string"
              },
              "lastname": {
                "type": "string"
              },
              "email": {
                "type": "string"
              },
              "phone": {
                "type": "string"
              },
              "role_id": {
                "type": "string",
                "format": "uuid"
              },
              "userId": {
                "type": "string",
                "format": "uuid"
              }
            }
          }
        }
      },
      "GetCustomersResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "page": {
            "type": "integer",
            "example": 1
          },
          "limit": {
            "type": "integer",
            "example": 20
          },
          "total": {
            "type": "integer",
            "example": 125
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Customer"
            }
          }
        }
      },
      "Customer": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "firstname": {
            "type": "string"
          },
          "lastname": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "country": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time"
          }
        }
      },
      "GetCustomerByIdResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Customer"
          }
        }
      },
      "CreateCustomerRequest": {
        "type": "object",
        "required": [
          "firstname",
          "lastname",
          "email",
          "phone"
        ],
        "properties": {
          "firstname": {
            "type": "string"
          },
          "lastname": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "birthday": {
            "type": "string",
            "format": "date-time"
          },
          "country": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          }
        }
      },
      "CreateCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Customer"
          }
        }
      },
      "UpdateCustomerRequest": {
        "type": "object",
        "properties": {
          "firstname": {
            "type": "string"
          },
          "lastname": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "phone": {
            "type": "string"
          },
          "birthday": {
            "type": "string",
            "format": "date-time"
          },
          "country": {
            "type": "string"
          },
          "city": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "postal_code": {
            "type": "string"
          }
        }
      },
      "UpdateCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "$ref": "#/components/schemas/Customer"
          }
        }
      },
      "SoftDeleteCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "data": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string",
                "format": "uuid"
              },
              "deleted_at": {
                "type": "string",
                "format": "date-time"
              }
            }
          }
        }
      },
      "HardDeleteCustomerResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean"
          },
          "message": {
            "type": "string",
            "example": "Customer permanently deleted"
          }
        }
      },
      "Role": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "example": "84a1d6a4-77c6-4a2b-9c10-4d49a1abc123"
          },
          "name": {
            "type": "string",
            "example": "ADMIN"
          },
          "description": {
            "type": [
              "string",
              "null"
            ],
            "example": "Administrateur avec acc√®s complet"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "example": "2024-01-15T08:30:00Z"
          },
          "created_by": {
            "type": [
              "string",
              "null"
            ],
            "example": "system"
          },
          "updated_at": {
            "type": [
              "string",
              "null"
            ],
            "format": "date-time",
            "example": "2024-03-02T10:00:00Z"
          },
          "updated_by": {
            "type": [
              "string",
              "null"
            ],
            "example": "super.admin@allure-creation.fr"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "GetRolesResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Role"
            }
          }
        }
      },
      "RoleErrorResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": false
          },
          "error": {
            "type": "string",
            "example": "Failed to fetch roles"
          }
        }
      },
      "GetRoleByIdResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/Role"
          }
        }
      },
      "EmailMessage": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifiant unique de l'email (messageId)",
            "example": "<CABc123xyz@mail.example.com>"
          },
          "uid": {
            "type": "integer",
            "description": "UID IMAP de l'email",
            "example": 12345
          },
          "subject": {
            "type": "string",
            "description": "Sujet de l'email",
            "example": "Confirmation de votre commande"
          },
          "from": {
            "type": "array",
            "description": "Exp√©diteur(s) de l'email",
            "items": {
              "type": "object",
              "properties": {
                "address": {
                  "type": "string",
                  "format": "email",
                  "example": "contact@allure-creation.fr"
                },
                "name": {
                  "type": "string",
                  "example": "Allure Cr√©ation"
                }
              }
            }
          },
          "to": {
            "type": "array",
            "description": "Destinataire(s) de l'email",
            "items": {
              "type": "object",
              "properties": {
                "address": {
                  "type": "string",
                  "format": "email",
                  "example": "client@example.com"
                },
                "name": {
                  "type": "string",
                  "example": "Marie Dupont"
                }
              }
            }
          },
          "date": {
            "type": "string",
            "format": "date-time",
            "description": "Date d'envoi de l'email",
            "example": "2025-11-19T14:30:00.000Z"
          },
          "html": {
            "type": "string",
            "description": "Corps de l'email en HTML",
            "example": "<html><body><h1>Bonjour</h1></body></html>"
          },
          "text": {
            "type": "string",
            "description": "Corps de l'email en texte brut",
            "example": "Bonjour,\n\nVotre commande a √©t√© confirm√©e."
          },
          "attachments": {
            "type": "array",
            "description": "Pi√®ces jointes de l'email",
            "items": {
              "type": "object",
              "properties": {
                "filename": {
                  "type": "string",
                  "example": "facture.pdf"
                },
                "contentType": {
                  "type": "string",
                  "example": "application/pdf"
                },
                "size": {
                  "type": "integer",
                  "description": "Taille en octets",
                  "example": 102400
                }
              }
            }
          },
          "flags": {
            "type": "array",
            "description": "Flags IMAP de l'email",
            "items": {
              "type": "string"
            },
            "example": [
              "\\Seen",
              "\\Flagged"
            ]
          },
          "hasAttachments": {
            "type": "boolean",
            "description": "Indique si l'email contient des pi√®ces jointes",
            "example": true
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}
